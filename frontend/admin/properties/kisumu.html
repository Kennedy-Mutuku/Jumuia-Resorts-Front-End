<!-- admin/properties/kisumu.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jumuia Kisumu - Property Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --primary-green: #22440f;
            --primary-orange: #f3a435;
            --primary-white: #ffffff;
            --secondary-green: #0047ab; /* Kisumu blue color */
            --light-green: #e9f5e5;
            --dark-green: #153800;
            --gray-bg: #f8f9fa;
            --gray-border: #e0e0e0;
            --text-dark: #333333;
            --text-light: #666666;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 8px;
            --kisumu-color: #0047ab; /* Kisumu specific color */
            --kisumu-light: rgba(0, 71, 171, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--text-dark);
            line-height: 1.6;
            background-color: var(--gray-bg);
            overflow-x: hidden;
        }

        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            color: var(--primary-green);
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Admin Header */
        .admin-header {
            background-color: var(--primary-white);
            box-shadow: var(--shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 15px 0;
            border-bottom: 4px solid var(--kisumu-color);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .admin-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-img {
            width: 40px;
            height: 40px;
        }
        
        .admin-logo h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            color: var(--kisumu-color);
        }
        
        .admin-logo p {
            font-size: 0.85rem;
            color: var(--text-light);
        }
        
        .header-controls {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            position: relative;
            padding: 8px 12px;
            border-radius: var(--radius);
            transition: background-color 0.3s;
        }
        
        .user-profile:hover {
            background-color: var(--gray-bg);
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            background-color: var(--kisumu-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-white);
            font-weight: 600;
        }
        
        .user-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: var(--primary-white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            display: none;
            min-width: 200px;
            z-index: 1000;
            margin-top: 5px;
        }
        
        .user-menu.show {
            display: block;
        }
        
        .menu-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
            border-bottom: 1px solid var(--gray-border);
        }
        
        .menu-item:hover {
            background-color: var(--light-green);
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .menu-item.logout {
            color: #dc3545;
        }
        
        .menu-item.logout:hover {
            background-color: rgba(220, 53, 69, 0.1);
        }
        
        .back-to-dashboard {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--kisumu-color);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            border: 2px solid var(--kisumu-color);
            border-radius: var(--radius);
            transition: all 0.3s;
        }
        
        .back-to-dashboard:hover {
            background-color: var(--kisumu-color);
            color: var(--primary-white);
        }
        
        /* Property Hero */
        .property-hero {
            background: linear-gradient(rgba(0, 71, 171, 0.9), rgba(0, 71, 171, 0.7)), url('https://images.unsplash.com/photo-1584132967334-10e028bd69f7?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            color: var(--primary-white);
            padding: 100px 0 50px;
            margin-top: 70px;
            margin-bottom: 30px;
            border-radius: var(--radius);
        }
        
        .property-hero h1 {
            color: var(--primary-white);
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .property-tagline {
            font-size: 1.2rem;
            opacity: 0.95;
            max-width: 600px;
            margin-bottom: 20px;
            font-weight: 300;
        }
        
        .property-info {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-top: 30px;
        }
        
        .info-item {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: var(--radius);
            backdrop-filter: blur(10px);
        }
        
        .info-item i {
            color: var(--primary-orange);
            font-size: 1.2rem;
        }
        
        /* Lake-specific features */
        .lake-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .lake-feature {
            background: linear-gradient(135deg, rgba(0, 71, 171, 0.1), rgba(243, 164, 53, 0.1));
            padding: 20px;
            border-radius: var(--radius);
            border-left: 4px solid var(--kisumu-color);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .lake-feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0, 71, 171, 0.15);
        }
        
        .lake-feature h4 {
            color: var(--kisumu-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .lake-feature p {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        /* Admin Layout */
        .admin-layout {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
            margin: 30px 0;
        }
        
        /* Property Sidebar */
        .property-sidebar {
            background-color: var(--primary-white);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            height: fit-content;
            position: sticky;
            top: 100px;
            border: 1px solid var(--gray-border);
        }
        
        .sidebar-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--kisumu-color);
        }
        
        .property-icon {
            width: 70px;
            height: 70px;
            background-color: var(--kisumu-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: var(--primary-white);
            font-size: 1.8rem;
            box-shadow: 0 4px 10px rgba(0, 71, 171, 0.3);
        }
        
        .property-nav {
            list-style: none;
        }
        
        .property-nav li {
            margin-bottom: 5px;
        }
        
        .property-nav a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 20px;
            color: var(--text-dark);
            text-decoration: none;
            border-radius: var(--radius);
            transition: all 0.3s;
            border: 1px solid transparent;
        }
        
        .property-nav a:hover {
            background-color: var(--kisumu-light);
            color: var(--kisumu-color);
            border-color: var(--kisumu-color);
        }
        
        .property-nav a.active {
            background-color: var(--kisumu-color);
            color: var(--primary-white);
            border-color: var(--kisumu-color);
        }
        
        .property-nav i {
            width: 20px;
            text-align: center;
        }
        
        .nav-badge {
            background-color: var(--primary-orange);
            color: var(--primary-white);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
            margin-left: auto;
            min-width: 24px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        /* Main Content */
        .property-content {
            background-color: var(--primary-white);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-border);
            min-height: 800px;
        }
        
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--gray-border);
        }
        
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .breadcrumb a {
            color: var(--kisumu-color);
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
        }
        
        .btn {
            padding: 10px 25px;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background-color: var(--kisumu-color);
            color: var(--primary-white);
        }
        
        .btn-primary:hover {
            background-color: #003b8f;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 71, 171, 0.3);
        }
        
        .btn-orange {
            background-color: var(--primary-orange);
            color: var(--primary-white);
        }
        
        .btn-orange:hover {
            background-color: #e5941f;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(243, 164, 53, 0.3);
        }
        
        .btn-secondary {
            background-color: var(--primary-white);
            color: var(--kisumu-color);
            border: 2px solid var(--kisumu-color);
        }
        
        .btn-secondary:hover {
            background-color: var(--kisumu-color);
            color: var(--primary-white);
        }
        
        /* Dashboard Widgets */
        .dashboard-widgets {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .widget {
            background-color: var(--primary-white);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--kisumu-color);
            border: 1px solid var(--gray-border);
            transition: transform 0.3s;
        }
        
        .widget:hover {
            transform: translateY(-5px);
        }
        
        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .widget-title {
            font-size: 1.1rem;
            color: var(--text-dark);
            font-weight: 600;
        }
        
        .widget-stat {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--kisumu-color);
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .widget-change {
            font-size: 0.9rem;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .widget-change.positive {
            color: #28a745;
        }
        
        .widget-change.negative {
            color: #dc3545;
        }
        
        .widget-icon {
            width: 50px;
            height: 50px;
            background-color: var(--kisumu-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--kisumu-color);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .chart-card {
            background-color: var(--primary-white);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-border);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .chart-title {
            font-size: 1.3rem;
            color: var(--kisumu-color);
        }
        
        .chart-container {
            height: 300px;
            position: relative;
        }
        
        /* Rooms Status */
        .rooms-status {
            margin-bottom: 40px;
        }
        
        .rooms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .room-card {
            background-color: var(--primary-white);
            border-radius: var(--radius);
            padding: 15px;
            text-align: center;
            box-shadow: var(--shadow);
            border: 2px solid var(--gray-border);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .room-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }
        
        .room-card.occupied {
            border-color: #dc3545;
            background-color: rgba(220, 53, 69, 0.05);
        }
        
        .room-card.available {
            border-color: var(--secondary-green);
            background-color: rgba(0, 71, 171, 0.05);
        }
        
        .room-card.maintenance {
            border-color: #ffc107;
            background-color: rgba(255, 193, 7, 0.05);
        }
        
        .room-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--kisumu-color);
            margin-bottom: 5px;
        }
        
        .room-type {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-bottom: 10px;
        }
        
        .room-status {
            font-size: 0.75rem;
            font-weight: 600;
            padding: 3px 10px;
            border-radius: 12px;
            display: inline-block;
        }
        
        .status-occupied {
            background-color: #dc3545;
            color: white;
        }
        
        .status-available {
            background-color: var(--secondary-green);
            color: white;
        }
        
        .status-maintenance {
            background-color: #ffc107;
            color: #333;
        }
        
        /* Recent Bookings Table */
        .recent-bookings {
            margin-bottom: 40px;
        }
        
        .bookings-table {
            overflow-x: auto;
            margin-top: 20px;
            border-radius: var(--radius);
            border: 1px solid var(--gray-border);
        }
        
        .bookings-table table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1000px;
        }
        
        .bookings-table th {
            background-color: var(--kisumu-color);
            color: var(--primary-white);
            padding: 15px;
            text-align: left;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .bookings-table td {
            padding: 15px;
            border-bottom: 1px solid var(--gray-border);
        }
        
        .bookings-table tr:nth-child(even) {
            background-color: var(--gray-bg);
        }
        
        .bookings-table tr:hover {
            background-color: rgba(0, 71, 171, 0.05);
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .status-confirmed {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-checkedin {
            background-color: #cce5ff;
            color: #004085;
        }
        
        .status-checkedout {
            background-color: #e2e3e5;
            color: #383d41;
        }
        
        .status-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .action-card {
            background-color: var(--primary-white);
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-border);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--kisumu-color);
        }
        
        .action-icon {
            width: 60px;
            height: 60px;
            background-color: var(--kisumu-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.5rem;
            color: var(--kisumu-color);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .action-card h4 {
            margin-bottom: 10px;
            color: var(--kisumu-color);
        }
        
        .action-card p {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        /* Module Content */
        .module-content {
            display: none;
        }
        
        .module-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Loading State */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 71, 171, .3);
            border-radius: 50%;
            border-top-color: var(--kisumu-color);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin { to { transform: rotate(360deg); } }
        
        /* Alert Styles */
        .alert {
            padding: 15px;
            border-radius: var(--radius);
            margin-bottom: 25px;
            display: none;
        }
        
        .alert-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-dark);
            font-weight: 600;
        }
        
        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--gray-border);
            border-radius: var(--radius);
            font-size: 1rem;
            font-family: 'Montserrat', sans-serif;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--kisumu-color);
            box-shadow: 0 0 0 3px rgba(0, 71, 171, 0.1);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            border-radius: var(--radius);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .modal-header {
            padding: 25px 30px;
            border-bottom: 1px solid var(--gray-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            margin: 0;
            color: var(--kisumu-color);
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
            transition: color 0.3s;
        }
        
        .modal-close:hover {
            color: var(--kisumu-color);
        }
        
        .modal-body {
            padding: 30px;
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
            .admin-layout {
                grid-template-columns: 1fr;
            }
            .property-sidebar {
                position: static;
                margin-bottom: 30px;
            }
        }
        
        @media (max-width: 768px) {
            .property-hero h1 {
                font-size: 2rem;
            }
            .dashboard-widgets {
                grid-template-columns: 1fr;
            }
            .header-controls {
                flex-direction: column;
                align-items: flex-end;
                gap: 10px;
            }
            .action-buttons {
                flex-wrap: wrap;
            }
            .rooms-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            .property-hero {
                padding: 80px 0 40px;
                margin-top: 60px;
            }
        }
        
        @media (max-width: 576px) {
            .property-content {
                padding: 20px;
            }
            .btn {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
            .action-buttons {
                flex-direction: column;
                width: 100%;
            }
            .action-buttons .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="container header-container">
            <div class="admin-logo">
                <svg class="logo-img" viewBox="0 0 133 78">
                    <path d="M42.4,12.5c0,0,7,5.9-1.3,21.3c0,0-11.1,21.5,24.7,26.8c0,0-13.4-9.1-9.1-24C56.6,36.5,64.5,16.5,42.4,12.5z" fill="#FFFFFF" stroke="#22440f" stroke-width="0.75"/>
                    <path d="M94.4,12.5c0,0-7,5.9,1.3,21.3c0,0,11.1,21.5-24.7,26.8c0,0,13.4-9.1,9.1-24C80,36.5,72.3,16.5,94.4,12.5z" fill="#FFFFFF" stroke="#22440f" stroke-width="0.75"/>
                    <path d="M71.4,7.2c0,1.8-1.5,3.2-3.2,3.2c-1.8,0-3.2-1.5-3.2-3.2C65,5.4,66.5,4,68.2,4C70,4,71.4,5.5,71.4,7.2z" fill="#22440f"/>
                    <path d="M79.7,12.6c0,1.8-1.5,3.2-3.2,3.2c-1.8,0-3.2-1.5-3.2-3.2c0-1.8,1.5-3.2,3.2-3.2S79.7,10.8,79.7,12.6z" fill="#22440f"/>
                    <path d="M62.9,13c0,1.8-1.5,3.2-3.2,3.2c-1.8,0-3.2-1.5-3.2-3.2c0-1.8,1.5-3.2,3.2-3.2S62.9,11.2,62.9,13z" fill="#22440f"/>
                    <path d="M68.2,17.8c0,0-22.3,20.9,0,42.8C68.2,60.6,90.1,41.6,68.2,17.8z" fill="#f3a435"/>
                </svg>
                <div>
                    <h1>Jumuia Kisumu</h1>
                    <p>Property Dashboard</p>
                </div>
            </div>
            
            <div class="header-controls">
                <a href="../dashboard.html" class="back-to-dashboard">
                    <i class="fas fa-arrow-left"></i>
                    <span>Main Dashboard</span>
                </a>
                
                <div class="user-profile" id="userProfile">
                    <div class="avatar" id="userAvatar">U</div>
                    <div>
                        <div class="user-name" id="userName">User</div>
                        <div class="user-role">Kisumu Staff</div>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                    <div class="user-menu" id="userMenu">
                        <div class="menu-item" id="profileBtn">
                            <i class="fas fa-user"></i>
                            <span>My Profile</span>
                        </div>
                        <div class="menu-item logout" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Logout</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Property Hero -->
    <section class="property-hero">
        <div class="container">
            <h1>Jumuia Hotel - Kisumu</h1>
            <p class="property-tagline">Urban luxury with lakeside views, perfect for business travelers, conferences, and events in the heart of Kisumu city.</p>
            
            <div class="property-info">
                <div class="info-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Kisumu, Kenya</span>
                </div>
                <div class="info-item">
                    <i class="fas fa-phone"></i>
                    <span>0713 576969, 0115 994486</span>
                </div>
                <div class="info-item">
                    <i class="fas fa-envelope"></i>
                    <span>reservations.kisumu@resortjumuia.com</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Layout -->
    <div class="container">
        <div class="admin-layout">
            <!-- Property Sidebar -->
            <aside class="property-sidebar">
                <div class="sidebar-header">
                    <div class="property-icon">
                        <i class="fas fa-hotel"></i>
                    </div>
                    <h3 style="color: var(--kisumu-color);">Property Menu</h3>
                </div>
                
                <ul class="property-nav">
                    <li>
                        <a href="#overview" class="active">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Overview</span>
                        </a>
                    </li>
                    <li>
                        <a href="#bookings">
                            <i class="fas fa-calendar-check"></i>
                            <span>Bookings</span>
                            <span class="nav-badge" id="pendingBookingsBadge">0</span>
                        </a>
                    </li>
                    <li>
                        <a href="#rooms">
                            <i class="fas fa-bed"></i>
                            <span>Rooms</span>
                            <span class="nav-badge" id="availableRoomsBadge">0</span>
                        </a>
                    </li>
                    <li>
                        <a href="#lake-views">
                            <i class="fas fa-water"></i>
                            <span>Lake View Rooms</span>
                        </a>
                    </li>
                    <li>
                        <a href="#pool">
                            <i class="fas fa-swimming-pool"></i>
                            <span>Pool Management</span>
                        </a>
                    </li>
                    <li>
                        <a href="#conference">
                            <i class="fas fa-users"></i>
                            <span>Conference Rooms</span>
                        </a>
                    </li>
                    <li>
                        <a href="#revenue">
                            <i class="fas fa-money-bill-wave"></i>
                            <span>Revenue</span>
                        </a>
                    </li>
                    <li>
                        <a href="#messages">
                            <i class="fas fa-comments"></i>
                            <span>Messages</span>
                            <span class="nav-badge" id="unreadMessagesBadge">0</span>
                        </a>
                    </li>
                    <li>
                        <a href="#reviews">
                            <i class="fas fa-star"></i>
                            <span>Reviews</span>
                            <span class="nav-badge" id="newReviewsBadge">0</span>
                        </a>
                    </li>
                    <li>
                        <a href="#settings">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </aside>

            <!-- Main Content -->
            <main class="property-content">
                <!-- Overview Module -->
                <div id="overviewModule" class="module-content active">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Overview</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="showQuickBooking()">
                                <i class="fas fa-plus"></i>
                                New Booking
                            </button>
                            <button class="btn btn-primary" onclick="manageConferenceRooms()">
                                <i class="fas fa-users"></i>
                                Conference Rooms
                            </button>
                            <button class="btn btn-secondary" onclick="managePool()">
                                <i class="fas fa-swimming-pool"></i>
                                Pool Status
                            </button>
                        </div>
                    </div>

                    <!-- Lake Features -->
                    <div class="lake-features">
                        <div class="lake-feature">
                            <h4><i class="fas fa-water"></i> Lake Views</h4>
                            <p id="lakeViewRooms">12 lake view rooms available</p>
                        </div>
                        <div class="lake-feature">
                            <h4><i class="fas fa-swimming-pool"></i> Pool Status</h4>
                            <p id="poolStatus">Open: 8AM-6PM | Temp: 27Â°C</p>
                        </div>
                        <div class="lake-feature">
                            <h4><i class="fas fa-users"></i> Conference Rooms</h4>
                            <p id="conferenceRooms">3 rooms available today</p>
                        </div>
                        <div class="lake-feature">
                            <h4><i class="fas fa-utensils"></i> Restaurant</h4>
                            <p>Open 24 hours | Special: Lakeside BBQ</p>
                        </div>
                    </div>

                    <!-- Dashboard Widgets -->
                    <div class="dashboard-widgets">
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Today's Occupancy</div>
                                    <div class="widget-stat" id="occupancyRate">Loading...</div>
                                    <div class="widget-change" id="occupancyChange">
                                        <i class="fas fa-spinner fa-spin"></i>
                                        <span>Calculating...</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-bed"></i>
                                </div>
                            </div>
                        </div>

                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Today's Revenue</div>
                                    <div class="widget-stat" id="todayRevenue">KES 0</div>
                                    <div class="widget-change" id="revenueChange">
                                        <span>Loading...</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                            </div>
                        </div>

                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Pending Bookings</div>
                                    <div class="widget-stat" id="pendingBookings">0</div>
                                    <div class="widget-change" id="pendingChange">
                                        <span>Loading...</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                            </div>
                        </div>

                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Current Guests</div>
                                    <div class="widget-stat" id="currentGuests">0</div>
                                    <div class="widget-change" id="guestsChange">
                                        <span>Loading...</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Section -->
                    <div class="charts-section">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">Occupancy Trend (Last 7 Days)</h3>
                                <select class="form-control" style="width: auto; padding: 5px 15px; border: 1px solid var(--gray-border); border-radius: var(--radius);" onchange="updateChart('occupancy', this.value)">
                                    <option value="7">7 Days</option>
                                    <option value="30">30 Days</option>
                                    <option value="90">90 Days</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="occupancyChart"></canvas>
                            </div>
                        </div>

                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">Revenue Breakdown</h3>
                                <select class="form-control" style="width: auto; padding: 5px 15px; border: 1px solid var(--gray-border); border-radius: var(--radius);" onchange="updateChart('revenue', this.value)">
                                    <option value="month">This Month</option>
                                    <option value="week">This Week</option>
                                    <option value="year">This Year</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Rooms Status -->
                    <div class="rooms-status">
                        <h3>Rooms Status</h3>
                        <div class="rooms-grid" id="roomsGrid">
                            <!-- Rooms will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Recent Bookings -->
                    <div class="recent-bookings">
                        <h3>Recent Bookings</h3>
                        <div class="bookings-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Booking ID</th>
                                        <th>Guest</th>
                                        <th>Check-in</th>
                                        <th>Check-out</th>
                                        <th>Room Type</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="recentBookingsTable">
                                    <tr>
                                        <td colspan="8" style="text-align: center; padding: 30px;">
                                            <i class="fas fa-spinner fa-spin"></i> Loading bookings...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="quick-actions">
                        <div class="action-card" onclick="showQuickBooking()">
                            <div class="action-icon">
                                <i class="fas fa-plus"></i>
                            </div>
                            <h4>New Booking</h4>
                            <p>Create a new reservation</p>
                        </div>
                        <div class="action-card" onclick="checkInOut('checkin')">
                            <div class="action-icon">
                                <i class="fas fa-sign-in-alt"></i>
                            </div>
                            <h4>Check-in Guest</h4>
                            <p>Process guest arrival</p>
                        </div>
                        <div class="action-card" onclick="checkInOut('checkout')">
                            <div class="action-icon">
                                <i class="fas fa-sign-out-alt"></i>
                            </div>
                            <h4>Check-out Guest</h4>
                            <p>Process guest departure</p>
                        </div>
                        <div class="action-card" onclick="showMessages()">
                            <div class="action-icon">
                                <i class="fas fa-comments"></i>
                            </div>
                            <h4>Messages</h4>
                            <p>View guest messages</p>
                        </div>
                        <div class="action-card" onclick="showReports()">
                            <div class="action-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <h4>Reports</h4>
                            <p>Generate property reports</p>
                        </div>
                        <div class="action-card" onclick="showSettings()">
                            <div class="action-icon">
                                <i class="fas fa-cog"></i>
                            </div>
                            <h4>Settings</h4>
                            <p>Configure property settings</p>
                        </div>
                    </div>
                </div>
                
                <!-- Bookings Module -->
                <div id="bookingsModule" class="module-content">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Bookings</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="openNewBookingModal()">
                                <i class="fas fa-plus"></i>
                                New Booking
                            </button>
                            <button class="btn btn-secondary" onclick="toggleFilters()">
                                <i class="fas fa-filter"></i>
                                Filter
                            </button>
                            <button class="btn btn-primary" onclick="exportBookings()">
                                <i class="fas fa-download"></i>
                                Export
                            </button>
                        </div>
                    </div>
                    
                    <!-- Filters Section -->
                    <div id="filtersSection" style="display: none; background: var(--gray-bg); padding: 20px; border-radius: var(--radius); margin-bottom: 20px;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <div class="form-group">
                                <label class="form-label">Status</label>
                                <select class="form-control" id="filterStatus">
                                    <option value="">All Statuses</option>
                                    <option value="pending">Pending</option>
                                    <option value="confirmed">Confirmed</option>
                                    <option value="checked-in">Checked-in</option>
                                    <option value="checked-out">Checked-out</option>
                                    <option value="cancelled">Cancelled</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Date Range</label>
                                <select class="form-control" id="filterDateRange">
                                    <option value="today">Today</option>
                                    <option value="week">This Week</option>
                                    <option value="month">This Month</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Room Type</label>
                                <select class="form-control" id="filterRoomType">
                                    <option value="">All Room Types</option>
                                    <option value="standard">Standard</option>
                                    <option value="deluxe">Deluxe</option>
                                    <option value="executive">Executive Suite</option>
                                    <option value="lake-view">Lake View</option>
                                    <option value="presidential">Presidential Suite</option>
                                </select>
                            </div>
                            <div class="form-group" style="align-self: flex-end;">
                                <button class="btn btn-primary" onclick="applyFilters()" style="width: 100%;">
                                    <i class="fas fa-search"></i> Apply Filters
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bookings Table -->
                    <div class="bookings-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Booking ID</th>
                                    <th>Guest</th>
                                    <th>Check-in</th>
                                    <th>Check-out</th>
                                    <th>Room Type</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="allBookingsTable">
                                <tr>
                                    <td colspan="8" style="text-align: center; padding: 30px;">
                                        <i class="fas fa-spinner fa-spin"></i> Loading bookings...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Pagination -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px;">
                        <div style="color: var(--text-light);">
                            Showing <span id="currentPage">1</span> of <span id="totalPages">1</span>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-secondary" onclick="prevPage()" disabled id="prevBtn">
                                <i class="fas fa-chevron-left"></i> Previous
                            </button>
                            <button class="btn btn-secondary" onclick="nextPage()" id="nextBtn">
                                Next <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Rooms Module -->
                <div id="roomsModule" class="module-content">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Rooms</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="openAddRoomModal()">
                                <i class="fas fa-plus"></i>
                                Add Room
                            </button>
                            <button class="btn btn-secondary" onclick="refreshRooms()">
                                <i class="fas fa-sync"></i>
                                Refresh
                            </button>
                            <button class="btn btn-primary" onclick="exportRooms()">
                                <i class="fas fa-download"></i>
                                Export
                            </button>
                        </div>
                    </div>
                    
                    <!-- Room Statistics -->
                    <div class="dashboard-widgets">
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Total Rooms</div>
                                    <div class="widget-stat" id="totalRoomsCount">60</div>
                                    <div class="widget-change">
                                        <span>All categories</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-door-closed"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Available Rooms</div>
                                    <div class="widget-stat" id="availableRoomsCount">32</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>53% available</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Occupied Rooms</div>
                                    <div class="widget-stat" id="occupiedRoomsCount">22</div>
                                    <div class="widget-change">
                                        <span>37% occupied</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-user-check"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Maintenance</div>
                                    <div class="widget-stat" id="maintenanceRoomsCount">6</div>
                                    <div class="widget-change negative">
                                        <i class="fas fa-exclamation-circle"></i>
                                        <span>10% needs attention</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-tools"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Room Categories -->
                    <div style="margin: 30px 0;">
                        <h3>Room Categories</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                            <div style="background: var(--kisumu-light); padding: 20px; border-radius: var(--radius); border-left: 4px solid var(--kisumu-color);">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 10px;">Standard Rooms</h4>
                                <div style="font-size: 2rem; font-weight: bold; color: var(--kisumu-color);">20</div>
                                <div style="color: var(--text-light); font-size: 0.9rem;">KES 8,500 per night</div>
                            </div>
                            <div style="background: var(--kisumu-light); padding: 20px; border-radius: var(--radius); border-left: 4px solid #28a745;">
                                <h4 style="color: #28a745; margin-bottom: 10px;">Deluxe Rooms</h4>
                                <div style="font-size: 2rem; font-weight: bold; color: #28a745;">15</div>
                                <div style="color: var(--text-light); font-size: 0.9rem;">KES 12,000 per night</div>
                            </div>
                            <div style="background: var(--kisumu-light); padding: 20px; border-radius: var(--radius); border-left: 4px solid #ffc107;">
                                <h4 style="color: #ffc107; margin-bottom: 10px;">Executive Suites</h4>
                                <div style="font-size: 2rem; font-weight: bold; color: #ffc107;">12</div>
                                <div style="color: var(--text-light); font-size: 0.9rem;">KES 18,000 per night</div>
                            </div>
                            <div style="background: var(--kisumu-light); padding: 20px; border-radius: var(--radius); border-left: 4px solid #6f42c1;">
                                <h4 style="color: #6f42c1; margin-bottom: 10px;">Lake View Rooms</h4>
                                <div style="font-size: 2rem; font-weight: bold; color: #6f42c1;">8</div>
                                <div style="color: var(--text-light); font-size: 0.9rem;">KES 25,000 per night</div>
                            </div>
                            <div style="background: var(--kisumu-light); padding: 20px; border-radius: var(--radius); border-left: 4px solid #dc3545;">
                                <h4 style="color: #dc3545; margin-bottom: 10px;">Presidential Suites</h4>
                                <div style="font-size: 2rem; font-weight: bold; color: #dc3545;">5</div>
                                <div style="color: var(--text-light); font-size: 0.9rem;">KES 45,000 per night</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Rooms Grid -->
                    <div class="rooms-status">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="margin: 0;">All Rooms</h3>
                            <div style="display: flex; gap: 10px;">
                                <select class="form-control" style="width: auto;" onchange="filterRoomsByStatus(this.value)">
                                    <option value="">All Status</option>
                                    <option value="available">Available</option>
                                    <option value="occupied">Occupied</option>
                                    <option value="maintenance">Maintenance</option>
                                </select>
                                <select class="form-control" style="width: auto;" onchange="filterRoomsByType(this.value)">
                                    <option value="">All Types</option>
                                    <option value="standard">Standard</option>
                                    <option value="deluxe">Deluxe</option>
                                    <option value="executive">Executive Suite</option>
                                    <option value="lake-view">Lake View</option>
                                    <option value="presidential">Presidential Suite</option>
                                </select>
                            </div>
                        </div>
                        <div class="rooms-grid" id="allRoomsGrid">
                            <!-- All rooms will be populated here -->
                        </div>
                    </div>
                </div>
                
                <!-- Lake View Rooms Module -->
                <div id="lake-viewsModule" class="module-content">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Lake View Rooms</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="manageLakeViewRoom()">
                                <i class="fas fa-plus"></i>
                                Add Lake View Room
                            </button>
                            <button class="btn btn-secondary" onclick="refreshLakeViewRooms()">
                                <i class="fas fa-sync"></i>
                                Refresh
                            </button>
                        </div>
                    </div>
                    
                    <!-- Lake View Statistics -->
                    <div class="dashboard-widgets">
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Total Lake View Rooms</div>
                                    <div class="widget-stat" id="totalLakeViewRooms">8</div>
                                    <div class="widget-change">
                                        <span>Premium category</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-water"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Available Lake View</div>
                                    <div class="widget-stat" id="availableLakeViewRooms">5</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>63% available</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-eye"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Lake View Revenue</div>
                                    <div class="widget-stat" id="lakeViewRevenue">KES 125K</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>15% this month</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Avg. Rating</div>
                                    <div class="widget-stat" id="lakeViewRating">4.8</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-star"></i>
                                        <span>Excellent</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Lake View Rooms Grid -->
                    <div class="rooms-status">
                        <h3>Lake View Rooms</h3>
                        <div class="rooms-grid" id="lakeViewRoomsGrid">
                            <!-- Lake view rooms will be populated here -->
                        </div>
                    </div>
                    
                    <!-- Lake View Room Details -->
                    <div style="margin-top: 40px;">
                        <h3>Lake View Room Features</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                            <div style="background: linear-gradient(135deg, rgba(0, 71, 171, 0.1), rgba(243, 164, 53, 0.1)); padding: 20px; border-radius: var(--radius);">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">
                                    <i class="fas fa-eye"></i> Panoramic Views
                                </h4>
                                <ul style="color: var(--text-light); line-height: 1.8;">
                                    <li>Floor-to-ceiling windows</li>
                                    <li>Private balcony overlooking Lake Victoria</li>
                                    <li>Sunrise and sunset viewing areas</li>
                                    <li>Soundproof windows</li>
                                </ul>
                            </div>
                            
                            <div style="background: linear-gradient(135deg, rgba(0, 71, 171, 0.1), rgba(243, 164, 53, 0.1)); padding: 20px; border-radius: var(--radius);">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">
                                    <i class="fas fa-couch"></i> Premium Amenities
                                </h4>
                                <ul style="color: var(--text-light); line-height: 1.8;">
                                    <li>King-size bed with premium linens</li>
                                    <li>Smart TV with streaming services</li>
                                    <li>Mini-bar with local delicacies</li>
                                    <li>Espresso machine</li>
                                    <li>High-speed Wi-Fi</li>
                                </ul>
                            </div>
                            
                            <div style="background: linear-gradient(135deg, rgba(0, 71, 171, 0.1), rgba(243, 164, 53, 0.1)); padding: 20px; border-radius: var(--radius);">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">
                                    <i class="fas fa-shower"></i> Luxury Bathroom
                                </h4>
                                <ul style="color: var(--text-light); line-height: 1.8;">
                                    <li>Rainfall shower</li>
                                    <li>Separate bathtub</li>
                                    <li>Premium toiletries</li>
                                    <li>Heated floors</li>
                                    <li>Bathrobes and slippers</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Pool Management Module -->
                <div id="poolModule" class="module-content">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Pool Management</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="updatePoolStatus()">
                                <i class="fas fa-edit"></i>
                                Update Status
                            </button>
                            <button class="btn btn-secondary" onclick="generatePoolReport()">
                                <i class="fas fa-file-alt"></i>
                                Generate Report
                            </button>
                            <button class="btn btn-primary" onclick="scheduleMaintenance()">
                                <i class="fas fa-calendar-alt"></i>
                                Schedule Maintenance
                            </button>
                        </div>
                    </div>
                    
                    <!-- Pool Status Dashboard -->
                    <div class="dashboard-widgets">
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Pool Status</div>
                                    <div class="widget-stat" id="poolCurrentStatus">Open</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Operating normally</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-swimming-pool"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Water Temperature</div>
                                    <div class="widget-stat" id="poolTemperature">27Â°C</div>
                                    <div class="widget-change">
                                        <span>Ideal for swimming</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-thermometer-half"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Chlorine Level</div>
                                    <div class="widget-stat" id="poolChlorine">2.5 ppm</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-check"></i>
                                        <span>Within range</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-flask"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Today's Visitors</div>
                                    <div class="widget-stat" id="poolVisitors">42</div>
                                    <div class="widget-change">
                                        <span>Updated hourly</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pool Schedule -->
                    <div style="margin: 30px 0;">
                        <h3>Pool Schedule</h3>
                        <div style="background: var(--gray-bg); padding: 20px; border-radius: var(--radius); margin-top: 20px;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                                <div>
                                    <h4 style="color: var(--kisumu-color); margin-bottom: 10px;">Operating Hours</h4>
                                    <div style="background: white; padding: 15px; border-radius: var(--radius);">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                            <span>Monday - Friday:</span>
                                            <strong>6:00 AM - 8:00 PM</strong>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                            <span>Saturday:</span>
                                            <strong>7:00 AM - 9:00 PM</strong>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span>Sunday:</span>
                                            <strong>8:00 AM - 7:00 PM</strong>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 style="color: var(--kisumu-color); margin-bottom: 10px;">Maintenance Schedule</h4>
                                    <div style="background: white; padding: 15px; border-radius: var(--radius);">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                            <span>Daily Cleaning:</span>
                                            <strong>5:00 AM - 6:00 AM</strong>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                            <span>Weekly Cleaning:</span>
                                            <strong>Monday 5:00 AM</strong>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span>Next Maintenance:</span>
                                            <strong>15th Dec 2024</strong>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 style="color: var(--kisumu-color); margin-bottom: 10px;">Safety Status</h4>
                                    <div style="background: white; padding: 15px; border-radius: var(--radius);">
                                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                            <i class="fas fa-life-ring" style="color: #28a745;"></i>
                                            <span>Lifeguard on duty: <strong>Yes</strong></span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                            <i class="fas fa-first-aid" style="color: #28a745;"></i>
                                            <span>First aid kit: <strong>Available</strong></span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <i class="fas fa-exclamation-triangle" style="color: #ffc107;"></i>
                                            <span>Safety signs: <strong>All posted</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pool Water Quality -->
                    <div style="margin: 30px 0;">
                        <h3>Water Quality Monitoring</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">pH Level</h4>
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <div style="width: 60px; height: 60px; border-radius: 50%; background: conic-gradient(#28a745 75%, #e9ecef 0); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem;">
                                        7.4
                                    </div>
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-dark);">Optimal</div>
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Ideal range: 7.2-7.6</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Chlorine</h4>
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <div style="width: 60px; height: 60px; border-radius: 50%; background: conic-gradient(#28a745 70%, #e9ecef 0); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem;">
                                        2.5
                                    </div>
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-dark);">Good</div>
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Ideal range: 2-3 ppm</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Alkalinity</h4>
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <div style="width: 60px; height: 60px; border-radius: 50%; background: conic-gradient(#ffc107 65%, #e9ecef 0); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem;">
                                        110
                                    </div>
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-dark);">Acceptable</div>
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Ideal range: 80-120 ppm</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Water Clarity</h4>
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <div style="width: 60px; height: 60px; border-radius: 50%; background: conic-gradient(#28a745 85%, #e9ecef 0); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem;">
                                        95%
                                    </div>
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-dark);">Excellent</div>
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Clear visibility</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pool Usage Statistics -->
                    <div style="margin-top: 40px;">
                        <h3>Pool Usage Statistics</h3>
                        <div style="background: white; padding: 25px; border-radius: var(--radius); margin-top: 20px; box-shadow: var(--shadow);">
                            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px;">
                                <div>
                                    <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Weekly Visitors</h4>
                                    <div style="height: 200px; display: flex; align-items: flex-end; gap: 10px;">
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 30px; height: 150px; background: var(--kisumu-color); border-radius: 4px;"></div>
                                            <div style="margin-top: 10px; font-size: 0.9rem;">Mon</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 30px; height: 180px; background: var(--kisumu-color); border-radius: 4px;"></div>
                                            <div style="margin-top: 10px; font-size: 0.9rem;">Tue</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 30px; height: 200px; background: var(--kisumu-color); border-radius: 4px;"></div>
                                            <div style="margin-top: 10px; font-size: 0.9rem;">Wed</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 30px; height: 220px; background: var(--kisumu-color); border-radius: 4px;"></div>
                                            <div style="margin-top: 10px; font-size: 0.9rem;">Thu</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 30px; height: 250px; background: var(--kisumu-color); border-radius: 4px;"></div>
                                            <div style="margin-top: 10px; font-size: 0.9rem;">Fri</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 30px; height: 300px; background: var(--primary-orange); border-radius: 4px;"></div>
                                            <div style="margin-top: 10px; font-size: 0.9rem;">Sat</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 30px; height: 280px; background: var(--primary-orange); border-radius: 4px;"></div>
                                            <div style="margin-top: 10px; font-size: 0.9rem;">Sun</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Visitor Breakdown</h4>
                                    <div style="display: flex; flex-direction: column; gap: 15px;">
                                        <div>
                                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                                <span>Hotel Guests</span>
                                                <span style="font-weight: bold;">65%</span>
                                            </div>
                                            <div style="height: 8px; background: var(--gray-border); border-radius: 4px; overflow: hidden;">
                                                <div style="width: 65%; height: 100%; background: var(--kisumu-color);"></div>
                                            </div>
                                        </div>
                                        <div>
                                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                                <span>Day Visitors</span>
                                                <span style="font-weight: bold;">25%</span>
                                            </div>
                                            <div style="height: 8px; background: var(--gray-border); border-radius: 4px; overflow: hidden;">
                                                <div style="width: 25%; height: 100%; background: var(--primary-orange);"></div>
                                            </div>
                                        </div>
                                        <div>
                                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                                <span>Event Attendees</span>
                                                <span style="font-weight: bold;">10%</span>
                                            </div>
                                            <div style="height: 8px; background: var(--gray-border); border-radius: 4px; overflow: hidden;">
                                                <div style="width: 10%; height: 100%; background: #28a745;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Conference Rooms Module -->
                <div id="conferenceModule" class="module-content">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Conference Rooms</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="bookConferenceRoom()">
                                <i class="fas fa-calendar-plus"></i>
                                Book Conference Room
                            </button>
                            <button class="btn btn-secondary" onclick="viewConferenceSchedule()">
                                <i class="fas fa-calendar-alt"></i>
                                View Schedule
                            </button>
                            <button class="btn btn-primary" onclick="manageConferenceEquipment()">
                                <i class="fas fa-tools"></i>
                                Manage Equipment
                            </button>
                        </div>
                    </div>
                    
                    <!-- Conference Room Statistics -->
                    <div class="dashboard-widgets">
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Total Conference Rooms</div>
                                    <div class="widget-stat" id="totalConferenceRooms">6</div>
                                    <div class="widget-change">
                                        <span>Various capacities</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Available Today</div>
                                    <div class="widget-stat" id="availableConferenceRooms">3</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-check-circle"></i>
                                        <span>50% available</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">This Month's Revenue</div>
                                    <div class="widget-stat" id="conferenceRevenue">KES 480K</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>22% increase</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Upcoming Events</div>
                                    <div class="widget-stat" id="upcomingEvents">8</div>
                                    <div class="widget-change">
                                        <span>Next 7 days</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-calendar-day"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Conference Rooms List -->
                    <div style="margin: 30px 0;">
                        <h3>Conference Rooms</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                            <!-- Conference Room 1 -->
                            <div style="background: white; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow);">
                                <div style="background: var(--kisumu-color); color: white; padding: 15px; text-align: center;">
                                    <h4 style="margin: 0; color: white;">Lake View Conference Hall</h4>
                                </div>
                                <div style="padding: 20px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <div>
                                            <div style="color: var(--text-light); font-size: 0.9rem;">Capacity</div>
                                            <div style="font-weight: bold; font-size: 1.2rem;">200 Persons</div>
                                        </div>
                                        <div>
                                            <div style="color: var(--text-light); font-size: 0.9rem;">Rate</div>
                                            <div style="font-weight: bold; font-size: 1.2rem;">KES 80,000/day</div>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Status</div>
                                        <span class="status-badge status-available" style="margin-top: 5px;">Available</span>
                                    </div>
                                    <div style="margin-bottom: 20px;">
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Features</div>
                                        <div style="display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px;">
                                            <span style="background: var(--kisumu-light); color: var(--kisumu-color); padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Projector</span>
                                            <span style="background: var(--kisumu-light); color: var(--kisumu-color); padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Sound System</span>
                                            <span style="background: var(--kisumu-light); color: var(--kisumu-color); padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Wi-Fi</span>
                                            <span style="background: var(--kisumu-light); color: var(--kisumu-color); padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Catering</span>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary" style="width: 100%;" onclick="viewConferenceRoom('lake-view')">
                                        <i class="fas fa-eye"></i> View Details
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Conference Room 2 -->
                            <div style="background: white; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow);">
                                <div style="background: #28a745; color: white; padding: 15px; text-align: center;">
                                    <h4 style="margin: 0; color: white;">Executive Boardroom</h4>
                                </div>
                                <div style="padding: 20px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <div>
                                            <div style="color: var(--text-light); font-size: 0.9rem;">Capacity</div>
                                            <div style="font-weight: bold; font-size: 1.2rem;">30 Persons</div>
                                        </div>
                                        <div>
                                            <div style="color: var(--text-light); font-size: 0.9rem;">Rate</div>
                                            <div style="font-weight: bold; font-size: 1.2rem;">KES 40,000/day</div>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Status</div>
                                        <span class="status-badge status-occupied" style="margin-top: 5px;">Booked</span>
                                    </div>
                                    <div style="margin-bottom: 20px;">
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Features</div>
                                        <div style="display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px;">
                                            <span style="background: #e9f5e5; color: #28a745; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Video Conferencing</span>
                                            <span style="background: #e9f5e5; color: #28a745; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Whiteboard</span>
                                            <span style="background: #e9f5e5; color: #28a745; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Wi-Fi</span>
                                            <span style="background: #e9f5e5; color: #28a745; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Coffee Station</span>
                                        </div>
                                    </div>
                                    <button class="btn btn-secondary" style="width: 100%;" onclick="viewConferenceRoom('executive')">
                                        <i class="fas fa-eye"></i> View Details
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Conference Room 3 -->
                            <div style="background: white; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow);">
                                <div style="background: #ffc107; color: #333; padding: 15px; text-align: center;">
                                    <h4 style="margin: 0; color: #333;">Training Room</h4>
                                </div>
                                <div style="padding: 20px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <div>
                                            <div style="color: var(--text-light); font-size: 0.9rem;">Capacity</div>
                                            <div style="font-weight: bold; font-size: 1.2rem;">50 Persons</div>
                                        </div>
                                        <div>
                                            <div style="color: var(--text-light); font-size: 0.9rem;">Rate</div>
                                            <div style="font-weight: bold; font-size: 1.2rem;">KES 25,000/half-day</div>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 15px;">
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Status</div>
                                        <span class="status-badge status-available" style="margin-top: 5px;">Available</span>
                                    </div>
                                    <div style="margin-bottom: 20px;">
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Features</div>
                                        <div style="display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px;">
                                            <span style="background: #fff3cd; color: #856404; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Projector</span>
                                            <span style="background: #fff3cd; color: #856404; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Flip Charts</span>
                                            <span style="background: #fff3cd; color: #856404; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Wi-Fi</span>
                                            <span style="background: #fff3cd; color: #856404; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem;">Sound System</span>
                                        </div>
                                    </div>
                                    <button class="btn btn-primary" style="width: 100%;" onclick="viewConferenceRoom('training')">
                                        <i class="fas fa-eye"></i> View Details
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Conference Room Schedule -->
                    <div style="margin-top: 40px;">
                        <h3>Today's Schedule</h3>
                        <div style="background: white; border-radius: var(--radius); overflow: hidden; margin-top: 20px; box-shadow: var(--shadow);">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">Room</th>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">Event</th>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">Organizer</th>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">Time</th>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">Status</th>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">Lake View Hall</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">Annual Business Summit</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">Kisumu Chamber of Commerce</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">9:00 AM - 5:00 PM</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <span class="status-badge status-checkedin">In Progress</span>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <button class="btn" style="padding: 5px 10px; font-size: 0.85rem; background: var(--kisumu-light); color: var(--kisumu-color); border: 1px solid var(--kisumu-color); border-radius: 4px;" onclick="viewConferenceBooking('summit')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">Executive Boardroom</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">Management Meeting</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">Lake Victoria Fisheries</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">10:00 AM - 12:00 PM</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <span class="status-badge status-checkedin">In Progress</span>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <button class="btn" style="padding: 5px 10px; font-size: 0.85rem; background: var(--kisumu-light); color: var(--kisumu-color); border: 1px solid var(--kisumu-color); border-radius: 4px;" onclick="viewConferenceBooking('management')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">Training Room</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">Staff Training</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">Jumuia Resorts HR</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">2:00 PM - 5:00 PM</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <span class="status-badge status-confirmed">Confirmed</span>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <button class="btn" style="padding: 5px 10px; font-size: 0.85rem; background: var(--kisumu-light); color: var(--kisumu-color); border: 1px solid var(--kisumu-color); border-radius: 4px;" onclick="viewConferenceBooking('training')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 15px;">Small Meeting Room 1</td>
                                        <td style="padding: 15px;">Client Presentation</td>
                                        <td style="padding: 15px;">Tech Solutions Ltd</td>
                                        <td style="padding: 15px;">3:00 PM - 4:00 PM</td>
                                        <td style="padding: 15px;">
                                            <span class="status-badge status-pending">Pending Setup</span>
                                        </td>
                                        <td style="padding: 15px;">
                                            <button class="btn" style="padding: 5px 10px; font-size: 0.85rem; background: var(--kisumu-light); color: var(--kisumu-color); border: 1px solid var(--kisumu-color); border-radius: 4px;" onclick="viewConferenceBooking('presentation')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Revenue Module -->
                <div id="revenueModule" class="module-content">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Revenue</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="generateRevenueReport()">
                                <i class="fas fa-file-alt"></i>
                                Generate Report
                            </button>
                            <button class="btn btn-secondary" onclick="viewRevenueTrends()">
                                <i class="fas fa-chart-line"></i>
                                View Trends
                            </button>
                            <button class="btn btn-primary" onclick="exportRevenueData()">
                                <i class="fas fa-download"></i>
                                Export Data
                            </button>
                        </div>
                    </div>
                    
                    <!-- Revenue Dashboard -->
                    <div class="dashboard-widgets">
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Today's Revenue</div>
                                    <div class="widget-stat" id="revenueToday">KES 420,500</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>18% from yesterday</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-coins"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">This Week</div>
                                    <div class="widget-stat" id="revenueWeek">KES 2.8M</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>12% from last week</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-calendar-week"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">This Month</div>
                                    <div class="widget-stat" id="revenueMonth">KES 8.4M</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>25% from last month</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">This Year</div>
                                    <div class="widget-stat" id="revenueYear">KES 68.2M</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>15% from last year</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Revenue Charts -->
                    <div class="charts-section">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">Monthly Revenue Trend</h3>
                                <select class="form-control" style="width: auto; padding: 5px 15px;" onchange="updateRevenueChart(this.value)">
                                    <option value="2024">2024</option>
                                    <option value="2023">2023</option>
                                    <option value="2022">2022</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="revenueTrendChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">Revenue by Category</h3>
                                <select class="form-control" style="width: auto; padding: 5px 15px;" onchange="updateRevenueBreakdown(this.value)">
                                    <option value="month">This Month</option>
                                    <option value="quarter">This Quarter</option>
                                    <option value="year">This Year</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="revenueBreakdownChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Revenue Breakdown -->
                    <div style="margin: 30px 0;">
                        <h3>Revenue Breakdown</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">
                                    <i class="fas fa-bed"></i> Room Revenue
                                </h4>
                                <div style="font-size: 2rem; font-weight: bold; color: var(--kisumu-color); margin-bottom: 10px;">KES 5.2M</div>
                                <div style="color: var(--text-light); margin-bottom: 15px;">62% of total revenue</div>
                                <div style="height: 8px; background: var(--gray-border); border-radius: 4px; overflow: hidden;">
                                    <div style="width: 62%; height: 100%; background: var(--kisumu-color);"></div>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <h4 style="color: #28a745; margin-bottom: 15px;">
                                    <i class="fas fa-utensils"></i> Food & Beverage
                                </h4>
                                <div style="font-size: 2rem; font-weight: bold; color: #28a745; margin-bottom: 10px;">KES 1.8M</div>
                                <div style="color: var(--text-light); margin-bottom: 15px;">21% of total revenue</div>
                                <div style="height: 8px; background: var(--gray-border); border-radius: 4px; overflow: hidden;">
                                    <div style="width: 21%; height: 100%; background: #28a745;"></div>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <h4 style="color: #ffc107; margin-bottom: 15px;">
                                    <i class="fas fa-users"></i> Conference & Events
                                </h4>
                                <div style="font-size: 2rem; font-weight: bold; color: #ffc107; margin-bottom: 10px;">KES 0.9M</div>
                                <div style="color: var(--text-light); margin-bottom: 15px;">11% of total revenue</div>
                                <div style="height: 8px; background: var(--gray-border); border-radius: 4px; overflow: hidden;">
                                    <div style="width: 11%; height: 100%; background: #ffc107;"></div>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <h4 style="color: #6f42c1; margin-bottom: 15px;">
                                    <i class="fas fa-swimming-pool"></i> Other Services
                                </h4>
                                <div style="font-size: 2rem; font-weight: bold; color: #6f42c1; margin-bottom: 10px;">KES 0.5M</div>
                                <div style="color: var(--text-light); margin-bottom: 15px;">6% of total revenue</div>
                                <div style="height: 8px; background: var(--gray-border); border-radius: 4px; overflow: hidden;">
                                    <div style="width: 6%; height: 100%; background: #6f42c1;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Top Revenue Sources -->
                    <div style="margin-top: 40px;">
                        <h3>Top Revenue Sources</h3>
                        <div style="background: white; border-radius: var(--radius); overflow: hidden; margin-top: 20px; box-shadow: var(--shadow);">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">Source</th>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">This Month</th>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">Last Month</th>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">Change</th>
                                        <th style="background: var(--kisumu-color); color: white; padding: 15px; text-align: left;">% of Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <i class="fas fa-bed" style="color: var(--kisumu-color);"></i>
                                                <span>Room Bookings</span>
                                            </div>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border); font-weight: bold;">KES 5,200,000</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">KES 4,150,000</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <span style="color: #28a745; font-weight: bold;">+25.3%</span>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">62%</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <i class="fas fa-utensils" style="color: #28a745;"></i>
                                                <span>Restaurant</span>
                                            </div>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border); font-weight: bold;">KES 1,250,000</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">KES 1,100,000</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <span style="color: #28a745; font-weight: bold;">+13.6%</span>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">15%</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <i class="fas fa-cocktail" style="color: #ffc107;"></i>
                                                <span>Bar & Lounge</span>
                                            </div>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border); font-weight: bold;">KES 550,000</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">KES 480,000</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <span style="color: #28a745; font-weight: bold;">+14.6%</span>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">7%</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <i class="fas fa-users" style="color: #6f42c1;"></i>
                                                <span>Conference Rooms</span>
                                            </div>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border); font-weight: bold;">KES 900,000</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">KES 720,000</td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                            <span style="color: #28a745; font-weight: bold;">+25.0%</span>
                                        </td>
                                        <td style="padding: 15px; border-bottom: 1px solid var(--gray-border);">11%</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 15px;">
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <i class="fas fa-spa" style="color: #17a2b8;"></i>
                                                <span>Spa & Wellness</span>
                                            </div>
                                        </td>
                                        <td style="padding: 15px; font-weight: bold;">KES 500,000</td>
                                        <td style="padding: 15px;">KES 450,000</td>
                                        <td style="padding: 15px;">
                                            <span style="color: #28a745; font-weight: bold;">+11.1%</span>
                                        </td>
                                        <td style="padding: 15px;">5%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Messages Module -->
                <div id="messagesModule" class="module-content">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Messages</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="composeNewMessage()">
                                <i class="fas fa-plus"></i>
                                New Message
                            </button>
                            <button class="btn btn-secondary" onclick="refreshMessages()">
                                <i class="fas fa-sync"></i>
                                Refresh
                            </button>
                            <button class="btn btn-primary" onclick="markAllAsRead()">
                                <i class="fas fa-envelope-open"></i>
                                Mark All Read
                            </button>
                        </div>
                    </div>
                    
                    <!-- Messages Dashboard -->
                    <div class="dashboard-widgets">
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Total Messages</div>
                                    <div class="widget-stat" id="totalMessages">128</div>
                                    <div class="widget-change">
                                        <span>All time</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Unread Messages</div>
                                    <div class="widget-stat" id="unreadMessages">8</div>
                                    <div class="widget-change">
                                        <span>Require attention</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-envelope-open-text"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Today's Messages</div>
                                    <div class="widget-stat" id="todaysMessages">12</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>20% increase</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-calendar-day"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Avg. Response Time</div>
                                    <div class="widget-stat" id="avgResponseTime">2.4h</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Within target</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Messages List -->
                    <div style="margin: 30px 0;">
                        <div style="display: flex; gap: 20px;">
                            <!-- Message Categories -->
                            <div style="flex: 0 0 250px;">
                                <div style="background: white; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow);">
                                    <div style="background: var(--kisumu-color); color: white; padding: 15px;">
                                        <h4 style="margin: 0; color: white;">Categories</h4>
                                    </div>
                                    <div style="padding: 10px;">
                                        <div class="message-category active" onclick="filterMessages('inbox')" style="padding: 12px 15px; cursor: pointer; border-radius: var(--radius); margin-bottom: 5px; background: var(--kisumu-light); color: var(--kisumu-color);">
                                            <i class="fas fa-inbox"></i>
                                            <span style="margin-left: 10px;">Inbox</span>
                                            <span style="float: right; background: var(--kisumu-color); color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem;">8</span>
                                        </div>
                                        <div class="message-category" onclick="filterMessages('sent')" style="padding: 12px 15px; cursor: pointer; border-radius: var(--radius); margin-bottom: 5px;">
                                            <i class="fas fa-paper-plane"></i>
                                            <span style="margin-left: 10px;">Sent</span>
                                        </div>
                                        <div class="message-category" onclick="filterMessages('important')" style="padding: 12px 15px; cursor: pointer; border-radius: var(--radius); margin-bottom: 5px;">
                                            <i class="fas fa-star"></i>
                                            <span style="margin-left: 10px;">Important</span>
                                            <span style="float: right; background: #ffc107; color: #333; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem;">3</span>
                                        </div>
                                        <div class="message-category" onclick="filterMessages('drafts')" style="padding: 12px 15px; cursor: pointer; border-radius: var(--radius); margin-bottom: 5px;">
                                            <i class="fas fa-file-alt"></i>
                                            <span style="margin-left: 10px;">Drafts</span>
                                            <span style="float: right; background: var(--gray-border); color: var(--text-light); padding: 2px 8px; border-radius: 10px; font-size: 0.8rem;">2</span>
                                        </div>
                                        <div class="message-category" onclick="filterMessages('trash')" style="padding: 12px 15px; cursor: pointer; border-radius: var(--radius);">
                                            <i class="fas fa-trash"></i>
                                            <span style="margin-left: 10px;">Trash</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Messages List -->
                            <div style="flex: 1;">
                                <div style="background: white; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow);">
                                    <div style="background: var(--gray-bg); padding: 15px; border-bottom: 1px solid var(--gray-border);">
                                        <h4 style="margin: 0; color: var(--kisumu-color);">Inbox Messages</h4>
                                    </div>
                                    <div id="messagesList" style="max-height: 500px; overflow-y: auto;">
                                        <!-- Messages will be populated here -->
                                        <div class="message-item unread" onclick="openMessage('1')" style="padding: 15px; border-bottom: 1px solid var(--gray-border); cursor: pointer; transition: background-color 0.3s;">
                                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                                <div style="display: flex; align-items: center; gap: 10px;">
                                                    <div style="width: 40px; height: 40px; background: var(--kisumu-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                                        J
                                                    </div>
                                                    <div>
                                                        <div style="font-weight: bold; color: var(--text-dark);">John Smith</div>
                                                        <div style="color: var(--text-light); font-size: 0.9rem;">Room 205 - Late check-out request</div>
                                                    </div>
                                                </div>
                                                <div style="text-align: right;">
                                                    <div style="color: var(--text-light); font-size: 0.85rem;">2 hours ago</div>
                                                    <div style="margin-top: 5px;">
                                                        <i class="fas fa-star" style="color: #ffc107; cursor: pointer;" onclick="toggleStar(event, '1')"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="message-item unread" onclick="openMessage('2')" style="padding: 15px; border-bottom: 1px solid var(--gray-border); cursor: pointer; transition: background-color 0.3s;">
                                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                                <div style="display: flex; align-items: center; gap: 10px;">
                                                    <div style="width: 40px; height: 40px; background: #28a745; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                                        M
                                                    </div>
                                                    <div>
                                                        <div style="font-weight: bold; color: var(--text-dark);">Maria Rodriguez</div>
                                                        <div style="color: var(--text-light); font-size: 0.9rem;">Conference room setup for tomorrow</div>
                                                    </div>
                                                </div>
                                                <div style="text-align: right;">
                                                    <div style="color: var(--text-light); font-size: 0.85rem;">3 hours ago</div>
                                                    <div style="margin-top: 5px;">
                                                        <i class="far fa-star" style="color: var(--text-light); cursor: pointer;" onclick="toggleStar(event, '2')"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="message-item" onclick="openMessage('3')" style="padding: 15px; border-bottom: 1px solid var(--gray-border); cursor: pointer; transition: background-color 0.3s;">
                                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                                <div style="display: flex; align-items: center; gap: 10px;">
                                                    <div style="width: 40px; height: 40px; background: #6f42c1; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                                        K
                                                    </div>
                                                    <div>
                                                        <div style="font-weight: bold; color: var(--text-dark);">Kenya Tourism Board</div>
                                                        <div style="color: var(--text-light); font-size: 0.9rem;">Partnership opportunity for 2024</div>
                                                    </div>
                                                </div>
                                                <div style="text-align: right;">
                                                    <div style="color: var(--text-light); font-size: 0.85rem;">Yesterday</div>
                                                    <div style="margin-top: 5px;">
                                                        <i class="fas fa-star" style="color: #ffc107; cursor: pointer;" onclick="toggleStar(event, '3')"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Add more message items as needed -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Reviews Module -->
                <div id="reviewsModule" class="module-content">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Reviews</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="respondToReviews()">
                                <i class="fas fa-reply"></i>
                                Respond to Reviews
                            </button>
                            <button class="btn btn-secondary" onclick="refreshReviews()">
                                <i class="fas fa-sync"></i>
                                Refresh
                            </button>
                            <button class="btn btn-primary" onclick="exportReviews()">
                                <i class="fas fa-download"></i>
                                Export
                            </button>
                        </div>
                    </div>
                    
                    <!-- Reviews Dashboard -->
                    <div class="dashboard-widgets">
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Overall Rating</div>
                                    <div class="widget-stat" id="overallRating">4.6</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>0.2 from last month</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Total Reviews</div>
                                    <div class="widget-stat" id="totalReviews">248</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-arrow-up"></i>
                                        <span>12% increase</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-comment-alt"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">Response Rate</div>
                                    <div class="widget-stat" id="responseRate">94%</div>
                                    <div class="widget-change positive">
                                        <i class="fas fa-check-circle"></i>
                                        <span>Excellent</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-reply"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="widget">
                            <div class="widget-header">
                                <div>
                                    <div class="widget-title">New Reviews</div>
                                    <div class="widget-stat" id="newReviews">8</div>
                                    <div class="widget-change">
                                        <span>This week</span>
                                    </div>
                                </div>
                                <div class="widget-icon">
                                    <i class="fas fa-bell"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Rating Distribution -->
                    <div style="margin: 30px 0;">
                        <h3>Rating Distribution</h3>
                        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px; margin-top: 20px;">
                            <div style="background: white; padding: 25px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <div style="margin-bottom: 20px;">
                                    <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                        <div style="width: 100px; text-align: right; margin-right: 15px;">5 Stars</div>
                                        <div style="flex: 1; height: 20px; background: var(--gray-border); border-radius: 10px; overflow: hidden;">
                                            <div style="width: 65%; height: 100%; background: #ffc107;"></div>
                                        </div>
                                        <div style="width: 50px; text-align: right; margin-left: 15px; font-weight: bold;">65%</div>
                                    </div>
                                    <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                        <div style="width: 100px; text-align: right; margin-right: 15px;">4 Stars</div>
                                        <div style="flex: 1; height: 20px; background: var(--gray-border); border-radius: 10px; overflow: hidden;">
                                            <div style="width: 22%; height: 100%; background: #28a745;"></div>
                                        </div>
                                        <div style="width: 50px; text-align: right; margin-left: 15px; font-weight: bold;">22%</div>
                                    </div>
                                    <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                        <div style="width: 100px; text-align: right; margin-right: 15px;">3 Stars</div>
                                        <div style="flex: 1; height: 20px; background: var(--gray-border); border-radius: 10px; overflow: hidden;">
                                            <div style="width: 8%; height: 100%; background: #17a2b8;"></div>
                                        </div>
                                        <div style="width: 50px; text-align: right; margin-left: 15px; font-weight: bold;">8%</div>
                                    </div>
                                    <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                        <div style="width: 100px; text-align: right; margin-right: 15px;">2 Stars</div>
                                        <div style="flex: 1; height: 20px; background: var(--gray-border); border-radius: 10px; overflow: hidden;">
                                            <div style="width: 3%; height: 100%; background: #ffc107;"></div>
                                        </div>
                                        <div style="width: 50px; text-align: right; margin-left: 15px; font-weight: bold;">3%</div>
                                    </div>
                                    <div style="display: flex; align-items: center;">
                                        <div style="width: 100px; text-align: right; margin-right: 15px;">1 Star</div>
                                        <div style="flex: 1; height: 20px; background: var(--gray-border); border-radius: 10px; overflow: hidden;">
                                            <div style="width: 2%; height: 100%; background: #dc3545;"></div>
                                        </div>
                                        <div style="width: 50px; text-align: right; margin-left: 15px; font-weight: bold;">2%</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: white; padding: 25px; border-radius: var(--radius); box-shadow: var(--shadow); display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                <div style="font-size: 3rem; font-weight: bold; color: var(--kisumu-color);">4.6</div>
                                <div style="margin: 10px 0;">
                                    <i class="fas fa-star" style="color: #ffc107; font-size: 1.5rem;"></i>
                                    <i class="fas fa-star" style="color: #ffc107; font-size: 1.5rem;"></i>
                                    <i class="fas fa-star" style="color: #ffc107; font-size: 1.5rem;"></i>
                                    <i class="fas fa-star" style="color: #ffc107; font-size: 1.5rem;"></i>
                                    <i class="fas fa-star-half-alt" style="color: #ffc107; font-size: 1.5rem;"></i>
                                </div>
                                <div style="color: var(--text-light);">Based on 248 reviews</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Reviews -->
                    <div style="margin-top: 40px;">
                        <h3>Recent Reviews</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                            <!-- Review 1 -->
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-dark);">David Johnson</div>
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Stayed: Nov 15-20, 2024</div>
                                    </div>
                                    <div style="color: #ffc107;">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                                <div style="color: var(--text-dark); margin-bottom: 15px; line-height: 1.6;">
                                    "Absolutely stunning lake views from our room! The staff went above and beyond to make our stay memorable. The conference facilities were top-notch for our business meetings."
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div style="color: var(--text-light); font-size: 0.9rem;">3 days ago</div>
                                    <button class="btn btn-primary" style="padding: 5px 15px; font-size: 0.9rem;" onclick="respondToReview('1')">
                                        <i class="fas fa-reply"></i> Respond
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Review 2 -->
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-dark);">Sarah Miller</div>
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Conference Attendee</div>
                                    </div>
                                    <div style="color: #ffc107;">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                </div>
                                <div style="color: var(--text-dark); margin-bottom: 15px; line-height: 1.6;">
                                    "Excellent conference facilities with state-of-the-art equipment. The catering was delicious and service was impeccable. Would definitely host our next event here."
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div style="color: var(--text-light); font-size: 0.9rem;">1 week ago</div>
                                    <button class="btn btn-primary" style="padding: 5px 15px; font-size: 0.9rem;" onclick="respondToReview('2')">
                                        <i class="fas fa-reply"></i> Respond
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Review 3 -->
                            <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                    <div>
                                        <div style="font-weight: bold; color: var(--text-dark);">James Wilson</div>
                                        <div style="color: var(--text-light); font-size: 0.9rem;">Stayed: Nov 10-12, 2024</div>
                                    </div>
                                    <div style="color: #ffc107;">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                </div>
                                <div style="color: var(--text-dark); margin-bottom: 15px; line-height: 1.6;">
                                    "Room was comfortable but Wi-Fi was intermittent during my stay. The restaurant food was excellent though. Staff were friendly and helpful."
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div style="color: var(--text-light); font-size: 0.9rem;">2 weeks ago</div>
                                    <button class="btn btn-primary" style="padding: 5px 15px; font-size: 0.9rem;" onclick="respondToReview('3')">
                                        <i class="fas fa-reply"></i> Respond
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Settings Module -->
                <div id="settingsModule" class="module-content">
                    <div class="content-header">
                        <div class="breadcrumb">
                            <a href="../dashboard.html">Dashboard</a> / 
                            <a href="#">Kisumu</a> / 
                            <span>Settings</span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-orange" onclick="saveSettings()">
                                <i class="fas fa-save"></i>
                                Save Changes
                            </button>
                            <button class="btn btn-secondary" onclick="resetSettings()">
                                <i class="fas fa-undo"></i>
                                Reset
                            </button>
                        </div>
                    </div>
                    
                    <!-- Settings Tabs -->
                    <div style="margin: 30px 0;">
                        <div style="display: flex; border-bottom: 1px solid var(--gray-border); margin-bottom: 30px;">
                            <button class="settings-tab active" onclick="openSettingsTab('general')" style="padding: 15px 20px; background: none; border: none; border-bottom: 3px solid var(--kisumu-color); color: var(--kisumu-color); font-weight: 600; cursor: pointer;">
                                <i class="fas fa-cog"></i> General
                            </button>
                            <button class="settings-tab" onclick="openSettingsTab('rooms')" style="padding: 15px 20px; background: none; border: none; color: var(--text-light); font-weight: 600; cursor: pointer;">
                                <i class="fas fa-bed"></i> Room Settings
                            </button>
                            <button class="settings-tab" onclick="openSettingsTab('rates')" style="padding: 15px 20px; background: none; border: none; color: var(--text-light); font-weight: 600; cursor: pointer;">
                                <i class="fas fa-money-bill-wave"></i> Rate Management
                            </button>
                            <button class="settings-tab" onclick="openSettingsTab('notifications')" style="padding: 15px 20px; background: none; border: none; color: var(--text-light); font-weight: 600; cursor: pointer;">
                                <i class="fas fa-bell"></i> Notifications
                            </button>
                        </div>
                        
                        <!-- General Settings -->
                        <div id="generalSettings" class="settings-tab-content">
                            <h3 style="margin-bottom: 20px;">General Property Settings</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                                <div>
                                    <div class="form-group">
                                        <label class="form-label">Property Name</label>
                                        <input type="text" class="form-control" id="propertyName" value="Jumuia Hotel - Kisumu">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Check-in Time</label>
                                        <input type="time" class="form-control" id="checkInTime" value="14:00">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Check-out Time</label>
                                        <input type="time" class="form-control" id="checkOutTime" value="11:00">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Contact Email</label>
                                        <input type="email" class="form-control" id="contactEmail" value="reservations.kisumu@resortjumuia.com">
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="form-group">
                                        <label class="form-label">Contact Phone</label>
                                        <input type="tel" class="form-control" id="contactPhone" value="0713 576969">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Address</label>
                                        <textarea class="form-control" id="propertyAddress" rows="3">Kisumu, Kenya</textarea>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Timezone</label>
                                        <select class="form-control" id="propertyTimezone">
                                            <option value="Africa/Nairobi" selected>Africa/Nairobi (EAT)</option>
                                            <option value="UTC">UTC</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Currency</label>
                                        <select class="form-control" id="propertyCurrency">
                                            <option value="KES" selected>Kenyan Shilling (KES)</option>
                                            <option value="USD">US Dollar (USD)</option>
                                            <option value="EUR">Euro (EUR)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Room Settings -->
                        <div id="roomSettings" class="settings-tab-content" style="display: none;">
                            <h3 style="margin-bottom: 20px;">Room Management Settings</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                                <div>
                                    <div class="form-group">
                                        <label class="form-label">Total Rooms</label>
                                        <input type="number" class="form-control" id="totalRoomsSetting" value="60" min="1" max="200">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Default Room Cleaning Time</label>
                                        <input type="number" class="form-control" id="cleaningTime" value="45" min="15" max="120">
                                        <small style="color: var(--text-light);">Minutes per room</small>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Early Check-in Fee</label>
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <input type="number" class="form-control" id="earlyCheckinFee" value="5000" min="0">
                                            <span>KES</span>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Late Check-out Fee (per hour)</label>
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <input type="number" class="form-control" id="lateCheckoutFee" value="2500" min="0">
                                            <span>KES</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div class="form-group">
                                        <label class="form-label">Minimum Stay (nights)</label>
                                        <input type="number" class="form-control" id="minimumStay" value="1" min="1" max="30">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Maximum Stay (nights)</label>
                                        <input type="number" class="form-control" id="maximumStay" value="30" min="1" max="365">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Auto-cancel Pending Bookings After</label>
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <input type="number" class="form-control" id="autoCancelHours" value="24" min="1" max="168">
                                            <span>hours</span>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Room Inventory Buffer</label>
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <input type="number" class="form-control" id="inventoryBuffer" value="2" min="0" max="10">
                                            <span>rooms</span>
                                        </div>
                                        <small style="color: var(--text-light);">Rooms kept for walk-ins</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Rate Management -->
                        <div id="rateSettings" class="settings-tab-content" style="display: none;">
                            <h3 style="margin-bottom: 20px;">Rate Management</h3>
                            <div style="margin-bottom: 30px;">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Seasonal Rates</h4>
                                <div style="background: var(--gray-bg); padding: 20px; border-radius: var(--radius);">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                                        <div>
                                            <label class="form-label">Peak Season Rate Multiplier</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="peakMultiplier" value="1.5" min="1" max="3" step="0.1">
                                                <span>x normal rate</span>
                                            </div>
                                        </div>
                                        <div>
                                            <label class="form-label">Shoulder Season Rate Multiplier</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="shoulderMultiplier" value="1.2" min="1" max="3" step="0.1">
                                                <span>x normal rate</span>
                                            </div>
                                        </div>
                                        <div>
                                            <label class="form-label">Low Season Rate Multiplier</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="lowMultiplier" value="0.8" min="0.5" max="1" step="0.1">
                                                <span>x normal rate</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 30px;">
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Advance Booking Discounts</h4>
                                <div style="background: var(--gray-bg); padding: 20px; border-radius: var(--radius);">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                                        <div>
                                            <label class="form-label">30+ days advance</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="discount30" value="15" min="0" max="50">
                                                <span>% discount</span>
                                            </div>
                                        </div>
                                        <div>
                                            <label class="form-label">14-29 days advance</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="discount14" value="10" min="0" max="50">
                                                <span>% discount</span>
                                            </div>
                                        </div>
                                        <div>
                                            <label class="form-label">7-13 days advance</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="discount7" value="5" min="0" max="50">
                                                <span>% discount</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Tax Settings</h4>
                                <div style="background: var(--gray-bg); padding: 20px; border-radius: var(--radius);">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                                        <div>
                                            <label class="form-label">VAT Rate</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="vatRate" value="16" min="0" max="50">
                                                <span>%</span>
                                            </div>
                                        </div>
                                        <div>
                                            <label class="form-label">Tourism Levy</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="tourismLevy" value="2" min="0" max="10">
                                                <span>%</span>
                                            </div>
                                        </div>
                                        <div>
                                            <label class="form-label">Service Charge</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="serviceCharge" value="10" min="0" max="20">
                                                <span>%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Notification Settings -->
                        <div id="notificationSettings" class="settings-tab-content" style="display: none;">
                            <h3 style="margin-bottom: 20px;">Notification Settings</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                                <div>
                                    <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Email Notifications</h4>
                                    <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                            <span>New Bookings</span>
                                            <label class="switch">
                                                <input type="checkbox" id="emailNewBookings" checked>
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                            <span>Cancellations</span>
                                            <label class="switch">
                                                <input type="checkbox" id="emailCancellations" checked>
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                            <span>Check-ins/Check-outs</span>
                                            <label class="switch">
                                                <input type="checkbox" id="emailCheckins" checked>
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <span>Daily Reports</span>
                                            <label class="switch">
                                                <input type="checkbox" id="emailDailyReports">
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">SMS Notifications</h4>
                                    <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                            <span>Urgent Alerts</span>
                                            <label class="switch">
                                                <input type="checkbox" id="smsUrgent" checked>
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                            <span>System Issues</span>
                                            <label class="switch">
                                                <input type="checkbox" id="smsSystem" checked>
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <span>Security Alerts</span>
                                            <label class="switch">
                                                <input type="checkbox" id="smsSecurity" checked>
                                                <span class="slider"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div>
                                    <h4 style="color: var(--kisumu-color); margin-bottom: 15px;">Alert Thresholds</h4>
                                    <div style="background: white; padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow);">
                                        <div class="form-group">
                                            <label class="form-label">Low Occupancy Alert</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="lowOccupancyAlert" value="30" min="0" max="100">
                                                <span>%</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">High Occupancy Alert</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="highOccupancyAlert" value="85" min="0" max="100">
                                                <span>%</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Revenue Target Alert</label>
                                            <div style="display: flex; align-items: center; gap: 10px;">
                                                <input type="number" class="form-control" id="revenueTargetAlert" value="80" min="0" max="100">
                                                <span>% of target</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </main>
        </div>
    </div>

    <!-- Modals -->
    <!-- Quick Booking Modal -->
    <div id="quickBookingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>New Booking</h3>
                <button class="modal-close" onclick="closeModal('quickBookingModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label class="form-label">Check-in Date</label>
                        <input type="date" class="form-control" id="bookingCheckIn">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Check-out Date</label>
                        <input type="date" class="form-control" id="bookingCheckOut">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Room Type</label>
                        <select class="form-control" id="bookingRoomType">
                            <option value="">Select Room Type</option>
                            <option value="standard">Standard</option>
                            <option value="deluxe">Deluxe</option>
                            <option value="executive">Executive Suite</option>
                            <option value="lake-view">Lake View</option>
                            <option value="presidential">Presidential Suite</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Number of Rooms</label>
                        <input type="number" class="form-control" id="bookingRoomsCount" value="1" min="1" max="10">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Guest Name</label>
                        <input type="text" class="form-control" id="bookingGuestName">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Guest Email</label>
                        <input type="email" class="form-control" id="bookingGuestEmail">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Guest Phone</label>
                        <input type="tel" class="form-control" id="bookingGuestPhone">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Special Requests</label>
                        <textarea class="form-control" id="bookingSpecialRequests" rows="3"></textarea>
                    </div>
                </div>
                <div style="display: flex; justify-content: flex-end; gap: 15px; margin-top: 30px;">
                    <button class="btn btn-secondary" onclick="closeModal('quickBookingModal')">Cancel</button>
                    <button class="btn btn-primary" onclick="submitQuickBooking()">Create Booking</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Use the same Firebase version as your main dashboard
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { 
            getFirestore, 
            collection, 
            query, 
            where, 
            orderBy, 
            limit, 
            getDocs, 
            onSnapshot,
            doc,
            getDoc,
            updateDoc,
            addDoc,
            serverTimestamp,
            Timestamp 
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Use the same Firebase configuration as your main dashboard
        const firebaseConfig = {
            apiKey: "AIzaSyBn1SicsFR40N8-E_sosNjylvIy9Kt1L7I",
            authDomain: "jumuia-resort-limited.firebaseapp.com",
            projectId: "jumuia-resort-limited",
            storageBucket: "jumuia-resort-limited.firebasestorage.app",
            messagingSenderId: "152170552230",
            appId: "1:152170552230:web:8b67a5dd6b71f59b044d67",
            measurementId: "G-Q7BWHJ9C3M"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Make available globally
        window.firebase = {
            auth: auth,
            db: db,
            firestore: {
                collection: collection,
                query: query,
                where: where,
                orderBy: orderBy,
                limit: limit,
                getDocs: getDocs,
                onSnapshot: onSnapshot,
                doc: doc,
                getDoc: getDoc,
                updateDoc: updateDoc,
                addDoc: addDoc,
                serverTimestamp: serverTimestamp,
                Timestamp: Timestamp
            },
            authFunctions: {
                onAuthStateChanged: onAuthStateChanged,
                signOut: signOut
            }
        };
    </script>

    <script>
        // Global variables
        let currentUser = null;
        let propertyData = {
            name: "Jumuia Kisumu",
            code: "kisumu",
            color: "#0047ab",
            totalRooms: 60,
            rooms: []
        };
        let occupancyChart = null;
        let revenueChart = null;
        let revenueTrendChart = null;
        let revenueBreakdownChart = null;
        let realtimeListeners = [];
        let currentBookingsPage = 1;
        const bookingsPerPage = 10;

        // DOM Ready
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication
            checkAuth();
            
            // Initialize event listeners
            initEventListeners();
            
            // Initialize charts
            initCharts();
            
            // Initialize settings tabs
            initSettingsTabs();
            
            // Set default dates for booking modal
            setDefaultBookingDates();
        });

        async function checkAuth() {
            try {
                const sessionData = JSON.parse(localStorage.getItem('jumuiaAdminUser'));
                
                if (!sessionData) {
                    // Redirect to login
                    window.location.href = "../index.html";
                    return;
                }
                
                currentUser = sessionData;
                
                // Check if user has access to this property
                if (currentUser.role === 'staff' && currentUser.property !== 'kisumu') {
                    alert("You don't have access to this property");
                    window.location.href = "../dashboard.html";
                    return;
                }
                
                // Set user info
                if (currentUser.name) {
                    const initials = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
                    document.getElementById('userAvatar').textContent = initials;
                }
                document.getElementById('userName').textContent = currentUser.name || 'User';
                
                // Update user role display
                const roleDisplay = document.querySelector('.user-role');
                if (currentUser.role === 'system-admin') {
                    roleDisplay.textContent = 'System Administrator';
                } else if (currentUser.role === 'general-manager') {
                    roleDisplay.textContent = 'General Manager';
                } else {
                    roleDisplay.textContent = 'Kisumu Staff';
                }
                
                // Load property data after auth check
                loadPropertyData();
                
            } catch (error) {
                console.error("Auth error:", error);
                window.location.href = "../index.html";
            }
        }

        function initEventListeners() {
            // User Menu
            document.getElementById('userProfile').addEventListener('click', function(e) {
                e.stopPropagation();
                document.getElementById('userMenu').classList.toggle('show');
            });

            document.getElementById('logoutBtn').addEventListener('click', async function() {
                try {
                    await window.firebase.authFunctions.signOut(window.firebase.auth);
                    localStorage.removeItem('jumuiaAdminUser');
                    window.location.href = "../index.html";
                } catch (error) {
                    console.error('Logout error:', error);
                    showAlert('Logout failed. Please try again.', 'error');
                }
            });

            document.getElementById('profileBtn').addEventListener('click', function() {
                alert('Profile feature will be implemented');
                document.getElementById('userMenu').classList.remove('show');
            });

            // Close menu when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.user-profile')) {
                    document.getElementById('userMenu').classList.remove('show');
                }
            });

            // Navigation
            document.querySelectorAll('.property-nav a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    document.querySelectorAll('.property-nav a').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding module
                    const moduleId = this.getAttribute('href').substring(1) + 'Module';
                    showModule(moduleId);
                });
            });
            
            // Quick Action Cards
            document.querySelectorAll('.action-card').forEach(card => {
                card.addEventListener('click', function() {
                    const action = this.querySelector('h4').textContent;
                    console.log(`Action clicked: ${action}`);
                });
            });
            
            // Message categories
            document.querySelectorAll('.message-category').forEach(category => {
                category.addEventListener('click', function() {
                    document.querySelectorAll('.message-category').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Settings tabs
            document.querySelectorAll('.settings-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.settings-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        function initSettingsTabs() {
            // Switch between settings tabs
            window.openSettingsTab = function(tabName) {
                document.querySelectorAll('.settings-tab-content').forEach(content => {
                    content.style.display = 'none';
                });
                document.getElementById(tabName + 'Settings').style.display = 'block';
            };
        }

        function setDefaultBookingDates() {
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            
            const formatDate = (date) => {
                return date.toISOString().split('T')[0];
            };
            
            // Set default dates for booking modal
            if (document.getElementById('bookingCheckIn')) {
                document.getElementById('bookingCheckIn').value = formatDate(today);
                document.getElementById('bookingCheckIn').min = formatDate(today);
            }
            
            if (document.getElementById('bookingCheckOut')) {
                document.getElementById('bookingCheckOut').value = formatDate(tomorrow);
                document.getElementById('bookingCheckOut').min = formatDate(tomorrow);
            }
        }

        function showModule(moduleId) {
            // Hide all modules
            document.querySelectorAll('.module-content').forEach(module => {
                module.classList.remove('active');
            });
            
            // Show selected module
            const moduleElement = document.getElementById(moduleId);
            if (moduleElement) {
                moduleElement.classList.add('active');
                // Update breadcrumb
                updateBreadcrumb(moduleId.replace('Module', ''));
                
                // Load module-specific data
                switch(moduleId) {
                    case 'overviewModule':
                        loadOverviewData();
                        break;
                    case 'bookingsModule':
                        loadBookingsData();
                        break;
                    case 'roomsModule':
                        loadRoomsData();
                        break;
                    case 'lake-viewsModule':
                        loadLakeViewRoomsData();
                        break;
                    case 'poolModule':
                        loadPoolData();
                        break;
                    case 'conferenceModule':
                        loadConferenceData();
                        break;
                    case 'revenueModule':
                        loadRevenueData();
                        break;
                    case 'messagesModule':
                        loadMessagesData();
                        break;
                    case 'reviewsModule':
                        loadReviewsData();
                        break;
                    case 'settingsModule':
                        loadSettingsData();
                        break;
                }
            }
        }

        function updateBreadcrumb(module) {
            const moduleNames = {
                'overview': 'Overview',
                'bookings': 'Bookings',
                'rooms': 'Rooms',
                'lake-views': 'Lake View Rooms',
                'pool': 'Pool Management',
                'conference': 'Conference Rooms',
                'revenue': 'Revenue',
                'messages': 'Messages',
                'reviews': 'Reviews',
                'settings': 'Settings'
            };
            
            const breadcrumb = document.querySelector('.breadcrumb');
            if (breadcrumb) {
                breadcrumb.innerHTML = `
                    <a href="../dashboard.html">Dashboard</a> / 
                    <a href="#">Kisumu</a> / 
                    <span>${moduleNames[module] || module}</span>
                `;
            }
        }

        async function loadPropertyData() {
            try {
                // Load dashboard stats
                await loadOverviewData();
                
                // Start real-time listeners
                startRealtimeListeners();
                
            } catch (error) {
                console.error("Error loading property data:", error);
                showAlert("Failed to load property data. Please refresh the page.", "error");
            }
        }

        async function loadOverviewData() {
            try {
                const db = window.firebase.db;
                const today = new Date().toISOString().split('T')[0];
                
                // Get today's occupancy
                const occupancyQuery = window.firebase.firestore.query(
                    window.firebase.firestore.collection(db, 'bookings'),
                    window.firebase.firestore.where('property', '==', 'kisumu'),
                    window.firebase.firestore.where('status', 'in', ['confirmed', 'checked-in']),
                    window.firebase.firestore.where('checkIn', '<=', today),
                    window.firebase.firestore.where('checkOut', '>=', today)
                );
                
                const occupancySnapshot = await window.firebase.firestore.getDocs(occupancyQuery);
                const occupiedRooms = occupancySnapshot.size;
                const occupancyRate = Math.round((occupiedRooms / propertyData.totalRooms) * 100);
                
                document.getElementById('occupancyRate').textContent = `${occupancyRate}%`;
                document.getElementById('currentGuests').textContent = occupiedRooms;
                
                // Calculate revenue
                let todayRevenue = 0;
                occupancySnapshot.forEach(doc => {
                    const booking = doc.data();
                    todayRevenue += booking.totalAmount || 0;
                });
                
                document.getElementById('todayRevenue').textContent = `KES ${todayRevenue.toLocaleString()}`;
                
                // Get pending bookings
                const pendingQuery = window.firebase.firestore.query(
                    window.firebase.firestore.collection(db, 'bookings'),
                    window.firebase.firestore.where('property', '==', 'kisumu'),
                    window.firebase.firestore.where('status', '==', 'pending')
                );
                
                const pendingSnapshot = await window.firebase.firestore.getDocs(pendingQuery);
                const pendingCount = pendingSnapshot.size;
                document.getElementById('pendingBookings').textContent = pendingCount;
                document.getElementById('pendingBookingsBadge').textContent = pendingCount;
                
                // Load rooms
                loadRoomsForOverview();
                
                // Load recent bookings
                loadRecentBookings();
                
                // Update change indicators
                updateChangeIndicators();
                
            } catch (error) {
                console.error("Error loading overview data:", error);
                document.getElementById('occupancyRate').textContent = 'Error';
                document.getElementById('todayRevenue').textContent = 'KES 0';
                document.getElementById('pendingBookings').textContent = '0';
            }
        }

        async function loadRoomsForOverview() {
            try {
                // For demo, create sample rooms for Kisumu
                const roomTypes = ['Standard', 'Deluxe', 'Executive Suite', 'Lake View', 'Presidential Suite'];
                const roomStatuses = ['available', 'occupied', 'maintenance'];
                const statusColors = {
                    'available': 'status-available',
                    'occupied': 'status-occupied',
                    'maintenance': 'status-maintenance'
                };
                
                let availableRooms = 0;
                let roomsHTML = '';
                
                // Create rooms 101-160
                for (let i = 1; i <= 30; i++) { // Show only 30 rooms in overview
                    const roomNumber = 100 + i;
                    const roomType = roomTypes[Math.floor(Math.random() * roomTypes.length)];
                    const status = roomStatuses[Math.floor(Math.random() * roomStatuses.length)];
                    
                    if (status === 'available') availableRooms++;
                    
                    roomsHTML += `
                        <div class="room-card ${status}" onclick="viewRoom(${roomNumber})">
                            <div class="room-number">${roomNumber}</div>
                            <div class="room-type">${roomType}</div>
                            <div class="room-status ${statusColors[status]}">${status.toUpperCase()}</div>
                        </div>
                    `;
                }
                
                document.getElementById('roomsGrid').innerHTML = roomsHTML;
                document.getElementById('availableRoomsBadge').textContent = availableRooms;
                
                // Update lake view rooms count
                const lakeViewCount = Math.floor(availableRooms * 0.2); // 20% of available are lake view
                document.getElementById('lakeViewRooms').textContent = `${lakeViewCount} lake view rooms available`;
                
            } catch (error) {
                console.error("Error loading rooms:", error);
                document.getElementById('roomsGrid').innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 30px; color: #dc3545;">
                        <i class="fas fa-exclamation-circle"></i> Failed to load rooms
                    </div>
                `;
            }
        }

        async function loadRecentBookings() {
            try {
                const db = window.firebase.db;
                
                const bookingsQuery = window.firebase.firestore.query(
                    window.firebase.firestore.collection(db, 'bookings'),
                    window.firebase.firestore.where('property', '==', 'kisumu'),
                    window.firebase.firestore.orderBy('createdAt', 'desc'),
                    window.firebase.firestore.limit(10)
                );
                
                const snapshot = await window.firebase.firestore.getDocs(bookingsQuery);
                const bookingsTable = document.getElementById('recentBookingsTable');
                bookingsTable.innerHTML = '';
                
                if (snapshot.empty) {
                    bookingsTable.innerHTML = `
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 30px;">
                                No bookings found
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                snapshot.forEach(doc => {
                    const booking = doc.data();
                    const checkIn = formatDate(booking.checkIn);
                    const checkOut = formatDate(booking.checkOut);
                    const statusBadge = getStatusBadge(booking.status);
                    
                    bookingsTable.innerHTML += `
                        <tr>
                            <td><strong>${booking.bookingId || 'N/A'}</strong></td>
                            <td>${booking.firstName || ''} ${booking.lastName || ''}</td>
                            <td>${checkIn}</td>
                            <td>${checkOut}</td>
                            <td>${booking.roomTypeDisplay || booking.roomType || 'N/A'}</td>
                            <td>KES ${(booking.totalAmount || 0).toLocaleString()}</td>
                            <td><span class="status-badge ${statusBadge.class}">${statusBadge.text}</span></td>
                            <td>
                                <button class="btn" style="padding: 5px 10px; font-size: 0.85rem; background: var(--kisumu-light); color: var(--kisumu-color); border: 1px solid var(--kisumu-color); border-radius: 4px;" onclick="viewBooking('${doc.id}')">
                                    <i class="fas fa-eye"></i> View
                                </button>
                            </td>
                        </tr>
                    `;
                });
                
            } catch (error) {
                console.error("Error loading recent bookings:", error);
                document.getElementById('recentBookingsTable').innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 30px; color: #dc3545;">
                            <i class="fas fa-exclamation-circle"></i> Failed to load bookings
                        </td>
                    </tr>
                `;
            }
        }

        async function updateChangeIndicators() {
            // For demo purposes - in production, compare with previous data
            document.getElementById('occupancyChange').innerHTML = `
                <i class="fas fa-arrow-up" style="color: #28a745;"></i>
                <span>5% from yesterday</span>
            `;
            document.getElementById('occupancyChange').className = 'widget-change positive';
            
            document.getElementById('revenueChange').innerHTML = `
                <i class="fas fa-arrow-up" style="color: #28a745;"></i>
                <span>12% from yesterday</span>
            `;
            document.getElementById('revenueChange').className = 'widget-change positive';
            
            document.getElementById('pendingChange').innerHTML = `
                <span>No change</span>
            `;
            document.getElementById('pendingChange').className = 'widget-change';
            
            document.getElementById('guestsChange').innerHTML = `
                <span>Updated just now</span>
            `;
            document.getElementById('guestsChange').className = 'widget-change';
        }

        async function loadBookingsData() {
            try {
                const db = window.firebase.db;
                const offset = (currentBookingsPage - 1) * bookingsPerPage;
                
                const bookingsQuery = window.firebase.firestore.query(
                    window.firebase.firestore.collection(db, 'bookings'),
                    window.firebase.firestore.where('property', '==', 'kisumu'),
                    window.firebase.firestore.orderBy('createdAt', 'desc')
                );
                
                const snapshot = await window.firebase.firestore.getDocs(bookingsQuery);
                const bookingsTable = document.getElementById('allBookingsTable');
                bookingsTable.innerHTML = '';
                
                if (snapshot.empty) {
                    bookingsTable.innerHTML = `
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 30px;">
                                No bookings found
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                // Calculate total pages
                const totalPages = Math.ceil(snapshot.size / bookingsPerPage);
                document.getElementById('totalPages').textContent = totalPages;
                document.getElementById('currentPage').textContent = currentBookingsPage;
                
                // Update pagination buttons
                document.getElementById('prevBtn').disabled = currentBookingsPage === 1;
                document.getElementById('nextBtn').disabled = currentBookingsPage === totalPages;
                
                // Display current page bookings
                let count = 0;
                snapshot.forEach(doc => {
                    if (count >= offset && count < offset + bookingsPerPage) {
                        const booking = doc.data();
                        const checkIn = formatDate(booking.checkIn);
                        const checkOut = formatDate(booking.checkOut);
                        const statusBadge = getStatusBadge(booking.status);
                        
                        bookingsTable.innerHTML += `
                            <tr>
                                <td><strong>${booking.bookingId || 'N/A'}</strong></td>
                                <td>${booking.firstName || ''} ${booking.lastName || ''}</td>
                                <td>${checkIn}</td>
                                <td>${checkOut}</td>
                                <td>${booking.roomTypeDisplay || booking.roomType || 'N/A'}</td>
                                <td>KES ${(booking.totalAmount || 0).toLocaleString()}</td>
                                <td><span class="status-badge ${statusBadge.class}">${statusBadge.text}</span></td>
                                <td>
                                    <button class="btn" style="padding: 5px 10px; font-size: 0.85rem; background: var(--kisumu-light); color: var(--kisumu-color); border: 1px solid var(--kisumu-color); border-radius: 4px;" onclick="viewBooking('${doc.id}')">
                                        <i class="fas fa-eye"></i> View
                                    </button>
                                </td>
                            </tr>
                        `;
                    }
                    count++;
                });
                
            } catch (error) {
                console.error("Error loading bookings data:", error);
                document.getElementById('allBookingsTable').innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 30px; color: #dc3545;">
                            <i class="fas fa-exclamation-circle"></i> Failed to load bookings
                        </td>
                    </tr>
                `;
            }
        }

        async function loadRoomsData() {
            try {
                // For demo, create sample rooms for Kisumu
                const roomTypes = ['Standard', 'Deluxe', 'Executive Suite', 'Lake View', 'Presidential Suite'];
                const roomStatuses = ['available', 'occupied', 'maintenance'];
                const statusColors = {
                    'available': 'status-available',
                    'occupied': 'status-occupied',
                    'maintenance': 'status-maintenance'
                };
                
                let availableRooms = 0;
                let occupiedRooms = 0;
                let maintenanceRooms = 0;
                let roomsHTML = '';
                
                // Create all rooms 101-160
                for (let i = 1; i <= propertyData.totalRooms; i++) {
                    const roomNumber = 100 + i;
                    const roomType = roomTypes[Math.floor(Math.random() * roomTypes.length)];
                    const status = roomStatuses[Math.floor(Math.random() * roomStatuses.length)];
                    
                    if (status === 'available') availableRooms++;
                    else if (status === 'occupied') occupiedRooms++;
                    else if (status === 'maintenance') maintenanceRooms++;
                    
                    roomsHTML += `
                        <div class="room-card ${status}" onclick="viewRoomDetails(${roomNumber}, '${roomType}', '${status}')">
                            <div class="room-number">${roomNumber}</div>
                            <div class="room-type">${roomType}</div>
                            <div class="room-status ${statusColors[status]}">${status.toUpperCase()}</div>
                        </div>
                    `;
                }
                
                document.getElementById('allRoomsGrid').innerHTML = roomsHTML;
                
                // Update statistics
                document.getElementById('availableRoomsCount').textContent = availableRooms;
                document.getElementById('occupiedRoomsCount').textContent = occupiedRooms;
                document.getElementById('maintenanceRoomsCount').textContent = maintenanceRooms;
                
            } catch (error) {
                console.error("Error loading rooms data:", error);
                document.getElementById('allRoomsGrid').innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 30px; color: #dc3545;">
                        <i class="fas fa-exclamation-circle"></i> Failed to load rooms
                    </div>
                `;
            }
        }

        async function loadLakeViewRoomsData() {
            try {
                // For demo, create sample lake view rooms
                const roomStatuses = ['available', 'occupied', 'maintenance'];
                const statusColors = {
                    'available': 'status-available',
                    'occupied': 'status-occupied',
                    'maintenance': 'status-maintenance'
                };
                
                let roomsHTML = '';
                
                // Create lake view rooms (8 total)
                const lakeViewRooms = [101, 102, 103, 104, 105, 106, 107, 108];
                
                lakeViewRooms.forEach(roomNumber => {
                    const status = roomStatuses[Math.floor(Math.random() * roomStatuses.length)];
                    
                    roomsHTML += `
                        <div class="room-card ${status}" onclick="viewLakeViewRoom(${roomNumber})">
                            <div class="room-number">${roomNumber}</div>
                            <div class="room-type">Lake View</div>
                            <div class="room-status ${statusColors[status]}">${status.toUpperCase()}</div>
                        </div>
                    `;
                });
                
                document.getElementById('lakeViewRoomsGrid').innerHTML = roomsHTML;
                
            } catch (error) {
                console.error("Error loading lake view rooms:", error);
                document.getElementById('lakeViewRoomsGrid').innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 30px; color: #dc3545;">
                        <i class="fas fa-exclamation-circle"></i> Failed to load lake view rooms
                    </div>
                `;
            }
        }

        async function loadPoolData() {
            // Pool data is static for demo
            console.log("Pool data loaded");
        }

        async function loadConferenceData() {
            // Conference data is static for demo
            console.log("Conference data loaded");
        }

        async function loadRevenueData() {
            // Initialize revenue charts
            initRevenueCharts();
            console.log("Revenue data loaded");
        }

        async function loadMessagesData() {
            // Messages data is loaded in the HTML
            console.log("Messages data loaded");
        }

        async function loadReviewsData() {
            // Reviews data is loaded in the HTML
            console.log("Reviews data loaded");
        }

        async function loadSettingsData() {
            // Settings are loaded from form defaults
            console.log("Settings data loaded");
        }

        function startRealtimeListeners() {
            // Clear existing listeners
            realtimeListeners.forEach(unsubscribe => unsubscribe());
            realtimeListeners = [];
            
            const db = window.firebase.db;
            
            // Listen for new bookings
            const bookingsQuery = window.firebase.firestore.query(
                window.firebase.firestore.collection(db, 'bookings'),
                window.firebase.firestore.where('property', '==', 'kisumu'),
                window.firebase.firestore.where('status', '==', 'pending')
            );
            
            const unsubscribeBookings = window.firebase.firestore.onSnapshot(bookingsQuery, (snapshot) => {
                document.getElementById('pendingBookingsBadge').textContent = snapshot.size;
                document.getElementById('pendingBookings').textContent = snapshot.size;
            });
            
            realtimeListeners.push(unsubscribeBookings);
            
            // Listen for unread messages
            const messagesQuery = window.firebase.firestore.query(
                window.firebase.firestore.collection(db, 'messages'),
                window.firebase.firestore.where('property', '==', 'kisumu'),
                window.firebase.firestore.where('read', '==', false)
            );
            
            const unsubscribeMessages = window.firebase.firestore.onSnapshot(messagesQuery, (snapshot) => {
                document.getElementById('unreadMessagesBadge').textContent = snapshot.size;
            });
            
            realtimeListeners.push(unsubscribeMessages);
            
            // Listen for new reviews
            const reviewsQuery = window.firebase.firestore.query(
                window.firebase.firestore.collection(db, 'reviews'),
                window.firebase.firestore.where('property', '==', 'kisumu'),
                window.firebase.firestore.where('read', '==', false)
            );
            
            const unsubscribeReviews = window.firebase.firestore.onSnapshot(reviewsQuery, (snapshot) => {
                document.getElementById('newReviewsBadge').textContent = snapshot.size;
            });
            
            realtimeListeners.push(unsubscribeReviews);
        }

        function initCharts() {
            // Occupancy Chart
            const occupancyCtx = document.getElementById('occupancyChart')?.getContext('2d');
            if (occupancyCtx) {
                occupancyChart = new Chart(occupancyCtx, {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'Occupancy Rate (%)',
                            data: [65, 70, 75, 80, 85, 90, 85],
                            borderColor: propertyData.color,
                            backgroundColor: propertyData.color + '20',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            // Revenue Chart
            const revenueCtx = document.getElementById('revenueChart')?.getContext('2d');
            if (revenueCtx) {
                revenueChart = new Chart(revenueCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Room', 'Conference', 'Restaurant', 'Catering', 'Other'],
                        datasets: [{
                            label: 'Revenue (KES)',
                            data: [450000, 320000, 180000, 120000, 80000],
                            backgroundColor: [
                                propertyData.color,
                                propertyData.color + 'CC',
                                propertyData.color + '99',
                                propertyData.color + '66',
                                propertyData.color + '33'
                            ],
                            borderColor: propertyData.color,
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return 'KES ' + (value / 1000).toFixed(0) + 'K';
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        function initRevenueCharts() {
            // Revenue Trend Chart
            const revenueTrendCtx = document.getElementById('revenueTrendChart')?.getContext('2d');
            if (revenueTrendCtx) {
                revenueTrendChart = new Chart(revenueTrendCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                        datasets: [{
                            label: 'Revenue (KES)',
                            data: [7200000, 7500000, 7800000, 8200000, 8500000, 8800000, 9200000, 9500000, 9800000, 10200000, 10500000, 10800000],
                            borderColor: propertyData.color,
                            backgroundColor: propertyData.color + '20',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return 'KES ' + (value / 1000000).toFixed(1) + 'M';
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            // Revenue Breakdown Chart
            const revenueBreakdownCtx = document.getElementById('revenueBreakdownChart')?.getContext('2d');
            if (revenueBreakdownCtx) {
                revenueBreakdownChart = new Chart(revenueBreakdownCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Room Bookings', 'Food & Beverage', 'Conference & Events', 'Other Services'],
                        datasets: [{
                            data: [62, 21, 11, 6],
                            backgroundColor: [
                                propertyData.color,
                                '#28a745',
                                '#ffc107',
                                '#6f42c1'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }
        }

        function updateChart(chartType, period) {
            console.log(`Updating ${chartType} chart for period: ${period}`);
            
            if (chartType === 'occupancy' && occupancyChart) {
                // Update occupancy chart data based on period
                const data = {
                    '7': [65, 70, 75, 80, 85, 90, 85],
                    '30': Array(30).fill(0).map((_, i) => 60 + Math.floor(Math.random() * 30)),
                    '90': Array(90).fill(0).map((_, i) => 55 + Math.floor(Math.random() * 40))
                };
                
                if (data[period]) {
                    occupancyChart.data.datasets[0].data = data[period];
                    occupancyChart.update();
                }
            } else if (chartType === 'revenue' && revenueChart) {
                // Update revenue chart data based on period
                const data = {
                    'month': [450000, 320000, 180000, 120000, 80000],
                    'week': [120000, 85000, 45000, 30000, 20000],
                    'year': [5400000, 3840000, 2160000, 1440000, 960000]
                };
                
                if (data[period]) {
                    revenueChart.data.datasets[0].data = data[period];
                    revenueChart.update();
                }
            }
        }

        function updateRevenueChart(year) {
            console.log(`Updating revenue chart for year: ${year}`);
            // In production, fetch data for selected year
        }

        function updateRevenueBreakdown(period) {
            console.log(`Updating revenue breakdown for period: ${period}`);
            // In production, fetch breakdown data for selected period
        }

        // Utility Functions
        function formatDate(dateString) {
            if (!dateString) return '-';
            try {
                const date = new Date(dateString);
                return date.toLocaleDateString('en-KE', {
                    day: 'numeric',
                    month: 'short',
                    year: 'numeric'
                });
            } catch (error) {
                return dateString;
            }
        }

        function getStatusBadge(status) {
            const statusMap = {
                'pending': { class: 'status-pending', text: 'PENDING' },
                'confirmed': { class: 'status-confirmed', text: 'CONFIRMED' },
                'checked-in': { class: 'status-checkedin', text: 'CHECKED IN' },
                'checked-out': { class: 'status-checkedout', text: 'CHECKED OUT' },
                'cancelled': { class: 'status-cancelled', text: 'CANCELLED' }
            };
            return statusMap[status] || { class: 'status-pending', text: 'PENDING' };
        }

        function showAlert(message, type = 'info') {
            // Create alert element if it doesn't exist
            let alertDiv = document.getElementById('dynamicAlert');
            if (!alertDiv) {
                alertDiv = document.createElement('div');
                alertDiv.id = 'dynamicAlert';
                alertDiv.style.cssText = `
                    position: fixed;
                    top: 100px;
                    right: 20px;
                    z-index: 9999;
                    min-width: 300px;
                    padding: 15px;
                    border-radius: var(--radius);
                    box-shadow: var(--shadow);
                    animation: slideIn 0.3s ease;
                `;
                document.body.appendChild(alertDiv);
            }
            
            // Set alert style based on type
            switch(type) {
                case 'error':
                    alertDiv.style.backgroundColor = '#f8d7da';
                    alertDiv.style.color = '#721c24';
                    alertDiv.style.border = '1px solid #f5c6cb';
                    break;
                case 'success':
                    alertDiv.style.backgroundColor = '#d4edda';
                    alertDiv.style.color = '#155724';
                    alertDiv.style.border = '1px solid #c3e6cb';
                    break;
                default:
                    alertDiv.style.backgroundColor = '#cce5ff';
                    alertDiv.style.color = '#004085';
                    alertDiv.style.border = '1px solid #b8daff';
            }
            
            alertDiv.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-${type === 'error' ? 'exclamation-circle' : type === 'success' ? 'check-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" style="margin-left: auto; background: none; border: none; cursor: pointer; color: inherit;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
            
            // Add CSS for animation
            if (!document.getElementById('alertStyles')) {
                const style = document.createElement('style');
                style.id = 'alertStyles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // Modal Functions
        window.openModal = function(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        };

        window.closeModal = function(modalId) {
            document.getElementById(modalId).style.display = 'none';
        };

        // Action Functions from Overview Module
        window.showQuickBooking = function() {
            openModal('quickBookingModal');
        };

        window.checkInOut = function(type) {
            showAlert(`${type.toUpperCase()} feature will open check-in/out interface`, "info");
        };

        window.viewBooking = function(bookingId) {
            showAlert(`View booking ${bookingId} - This would open booking details`, "info");
        };

        window.viewRoom = function(roomNumber) {
            showAlert(`View room ${roomNumber} details`, "info");
        };

        window.showMessages = function() {
            showModule('messagesModule');
        };

        window.showReports = function() {
            showModule('revenueModule');
        };

        window.showSettings = function() {
            showModule('settingsModule');
        };

        window.manageConferenceRooms = function() {
            showModule('conferenceModule');
        };

        window.managePool = function() {
            showModule('poolModule');
        };

        // Bookings Module Functions
        window.openNewBookingModal = function() {
            openModal('quickBookingModal');
        };

        window.toggleFilters = function() {
            const filtersSection = document.getElementById('filtersSection');
            filtersSection.style.display = filtersSection.style.display === 'none' ? 'block' : 'none';
        };

        window.applyFilters = function() {
            const status = document.getElementById('filterStatus').value;
            const dateRange = document.getElementById('filterDateRange').value;
            const roomType = document.getElementById('filterRoomType').value;
            
            showAlert(`Filters applied: Status=${status}, Date=${dateRange}, Room Type=${roomType}`, "success");
            // In production, this would filter the bookings table
        };

        window.exportBookings = function() {
            showAlert("Exporting bookings data...", "info");
            // In production, this would generate and download a CSV/Excel file
        };

        window.prevPage = function() {
            if (currentBookingsPage > 1) {
                currentBookingsPage--;
                loadBookingsData();
            }
        };

        window.nextPage = function() {
            currentBookingsPage++;
            loadBookingsData();
        };

        // Rooms Module Functions
        window.openAddRoomModal = function() {
            showAlert("Add Room feature will open a modal", "info");
        };

        window.refreshRooms = function() {
            loadRoomsData();
            showAlert("Rooms data refreshed", "success");
        };

        window.exportRooms = function() {
            showAlert("Exporting rooms data...", "info");
        };

        window.filterRoomsByStatus = function(status) {
            showAlert(`Filtering rooms by status: ${status}`, "info");
            // In production, this would filter the rooms grid
        };

        window.filterRoomsByType = function(type) {
            showAlert(`Filtering rooms by type: ${type}`, "info");
            // In production, this would filter the rooms grid
        };

        window.viewRoomDetails = function(roomNumber, roomType, status) {
            showAlert(`Viewing room ${roomNumber} (${roomType}) - Status: ${status}`, "info");
            // In production, this would open a room details modal
        };

        // Lake View Rooms Functions
        window.manageLakeViewRoom = function() {
            showAlert("Manage Lake View Room feature", "info");
        };

        window.refreshLakeViewRooms = function() {
            loadLakeViewRoomsData();
            showAlert("Lake view rooms refreshed", "success");
        };

        window.viewLakeViewRoom = function(roomNumber) {
            showAlert(`Viewing lake view room ${roomNumber} details`, "info");
        };

        // Pool Management Functions
        window.updatePoolStatus = function() {
            showAlert("Update Pool Status feature", "info");
        };

        window.generatePoolReport = function() {
            showAlert("Generating pool report...", "info");
        };

        window.scheduleMaintenance = function() {
            showAlert("Schedule Maintenance feature", "info");
        };

        // Conference Rooms Functions
        window.bookConferenceRoom = function() {
            showAlert("Book Conference Room feature", "info");
        };

        window.viewConferenceSchedule = function() {
            showAlert("View Conference Schedule feature", "info");
        };

        window.manageConferenceEquipment = function() {
            showAlert("Manage Conference Equipment feature", "info");
        };

        window.viewConferenceRoom = function(roomType) {
            showAlert(`Viewing ${roomType} conference room details`, "info");
        };

        window.viewConferenceBooking = function(bookingType) {
            showAlert(`Viewing ${bookingType} conference booking`, "info");
        };

        // Revenue Module Functions
        window.generateRevenueReport = function() {
            showAlert("Generating revenue report...", "info");
        };

        window.viewRevenueTrends = function() {
            showAlert("View Revenue Trends feature", "info");
        };

        window.exportRevenueData = function() {
            showAlert("Exporting revenue data...", "info");
        };

        // Messages Module Functions
        window.composeNewMessage = function() {
            showAlert("Compose New Message feature", "info");
        };

        window.refreshMessages = function() {
            showAlert("Refreshing messages...", "info");
        };

        window.markAllAsRead = function() {
            showAlert("All messages marked as read", "success");
        };

        window.filterMessages = function(category) {
            showAlert(`Filtering messages by category: ${category}`, "info");
        };

        window.openMessage = function(messageId) {
            showAlert(`Opening message ${messageId}`, "info");
        };

        window.toggleStar = function(event, messageId) {
            event.stopPropagation();
            const star = event.target;
            if (star.classList.contains('fas')) {
                star.classList.remove('fas');
                star.classList.add('far');
                star.style.color = 'var(--text-light)';
            } else {
                star.classList.remove('far');
                star.classList.add('fas');
                star.style.color = '#ffc107';
            }
        };

        // Reviews Module Functions
        window.respondToReviews = function() {
            showAlert("Respond to Reviews feature", "info");
        };

        window.refreshReviews = function() {
            showAlert("Refreshing reviews...", "info");
        };

        window.exportReviews = function() {
            showAlert("Exporting reviews data...", "info");
        };

        window.respondToReview = function(reviewId) {
            showAlert(`Responding to review ${reviewId}`, "info");
        };

        // Settings Module Functions
        window.saveSettings = function() {
            showAlert("Settings saved successfully", "success");
            // In production, this would save settings to Firebase
        };

        window.resetSettings = function() {
            if (confirm("Are you sure you want to reset all settings to default?")) {
                showAlert("Settings reset to default", "success");
                // In production, this would reset form values
            }
        };

        window.openSettingsTab = function(tabName) {
            document.querySelectorAll('.settings-tab-content').forEach(content => {
                content.style.display = 'none';
            });
            document.getElementById(tabName + 'Settings').style.display = 'block';
            
            document.querySelectorAll('.settings-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.textContent.includes(tabName.charAt(0).toUpperCase() + tabName.slice(1))) {
                    tab.classList.add('active');
                }
            });
        };

        // Quick Booking Functions
        window.submitQuickBooking = function() {
            const checkIn = document.getElementById('bookingCheckIn').value;
            const checkOut = document.getElementById('bookingCheckOut').value;
            const roomType = document.getElementById('bookingRoomType').value;
            const guestName = document.getElementById('bookingGuestName').value;
            
            if (!checkIn || !checkOut || !roomType || !guestName) {
                showAlert("Please fill in all required fields", "error");
                return;
            }
            
            showAlert(`Booking created for ${guestName} from ${checkIn} to ${checkOut}`, "success");
            closeModal('quickBookingModal');
            
            // In production, this would save to Firebase
            // Reset form
            document.getElementById('bookingGuestName').value = '';
            document.getElementById('bookingGuestEmail').value = '';
            document.getElementById('bookingGuestPhone').value = '';
            document.getElementById('bookingSpecialRequests').value = '';
        };

        // Make functions available globally
        window.showModule = showModule;
        window.showAlert = showAlert;
        window.openModal = openModal;
        window.closeModal = closeModal;

    </script>
</body>
</html>
